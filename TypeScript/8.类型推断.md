# 1.基础

>TypeScript里，在有些没有明确指出类型的地方，类型推论会帮助提供类型。

> 这种推断发生在初始化变量和成员，设置默认参数值和决定函数返回值时。大多数情况下，类型推论是直截了当地。

# 2.最佳通用类型

当需要从几个表达式中推断类型时候，会使用这些表达式的类型来推断出一个最合适的通用类型。如：

```ts
let x = [0, 1, null];
```

为了推断x的类型，我们必须考虑所有元素的类型。 这里有两种选择：number和null。 计算通用类型算法会考虑所有的候选类型，并给出一个兼容所有候选类型的类型。

推断结果类型来自于提供的候选类型，有时候候选类型共享某类型，但该共享类型不是候选类型，故得不到我们期望的结果。此时需要手动指定共享类型。

```ts
//虽然三个成员共享Animal类型，但Animal本身不是候选类型，故必须指定
let zoo: Animal[] = [new Rhino(), new Elephant(), new Snake()];
```

如果没有找到最佳通用类型的话，类型推论的结果是空对象类型，{}。 因为这个类型没有任何成员，所以访问其成员的时候会报错。

# 3.上下文类型