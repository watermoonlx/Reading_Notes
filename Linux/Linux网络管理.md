- [第1章 网络基础](#第1章-网络基础)
    - [1-1 ISO/OSI七层模型简介](#1-1-isoosi七层模型简介)
    - [1-2 TCP/IP四层模型](#1-2-tcpip四层模型)
    - [1-3 IP地址](#1-3-ip地址)
    - [1-4 端口作用](#1-4-端口作用)
    - [1-5 DNS作用](#1-5-dns作用)
    - [1-6 网关作用](#1-6-网关作用)
- [第2章 Linux网络配置](#第2章-linux网络配置)
        - [（1）ifconfig命令临时配置IP地址](#1ifconfig命令临时配置ip地址)
        - [（2）setup工具永久配置IP地址](#2setup工具永久配置ip地址)
        - [（3）修改网络配置文件](#3修改网络配置文件)
        - [（4）图像界面配置IP地址](#4图像界面配置ip地址)
    - [2.2 Linux网络配置文件](#22-linux网络配置文件)
        - [（1）网卡信息文件](#1网卡信息文件)
        - [（2）主机名文件](#2主机名文件)
        - [（3）DNS配置文件](#3dns配置文件)
    - [2.3 虚拟机网络参数配置](#23-虚拟机网络参数配置)
- [第3章 Linux网络命令](#第3章-linux网络命令)
    - [3.1 网络环境查看命令](#31-网络环境查看命令)
    - [3.2 网络测试命令](#32-网络测试命令)
- [第4章 远程登录工具](#第4章-远程登录工具)

# 第1章 网络基础

## 1-1 ISO/OSI七层模型简介

* 应用层
* 表示层
* 会话层
* 传输层
* 网络层
* 数据链路层
* 物理层

## 1-2 TCP/IP四层模型

* 应用层
* 传输层
* 网际互联层
* 网络接口层

 

## 1-3 IP地址

子网掩码用来判断一个IP地址是局域网内的，还是不同网段的。局域网内，就只需要交换机转发。不同网段，就需要路由器来转发。

## 1-4 端口作用
端口号10000以下是系统保留的。10000以上是用户自定义的。
 常见端口号
* FTP（文件传输协议）：20 21
* SSH（安全shell协议）：22
* telnet（远程登录协议）：23
* DNS（域名系统）：53
* http（超文本传输协议）：80
* SMTP（简单邮件传输协议）：25
* POP3（邮局协议3代）：110

查看当前机器连接情况：
`netstat -an`

## 1-5 DNS作用

作用：将域名解析为IP地址。
hosts文件作用：静态配置域名和IP的映射。优先级高于DNS。
DNS服务器也有一个IP地址。客户端先向这个IP发送查询请求。
DNS解析是从顶级域名开始，从又往左解析的。换句话说，理论上DNS服务器每次都要先访问根域名服务器。

 

## 1-6 网关作用
网关（Gateway）又称网间连接器、协议转换器。
网关在网络层以上实现网络互联，是最复杂的网络互连设备，仅用于两个高层协议不同的网络互连。
网关既可以用于广域网互连，也可以用于局域网互连。
网关是一种充当转换重任的服务器或路由器。

网关在所有内网计算机访问的不是本网段的数据报时使用。
网关负责将内网IP转换为公网IP，公网IP转换为内网IP。

 

# 第2章 Linux网络配置

 ## 2.1 Linux配置IP地址

### （1）ifconfig命令临时配置IP地址

* 重启计算机，或重启网络服务后，配置消失。
* `ifconfig`命令：查看与配置网络状态命令。
* `ifconfig [网卡名] 192.168.0.200 netmask 255.255.255.0`：临时设置目标网卡的IP地址与子网掩码。

### （2）setup工具永久配置IP地址

* 实验中发现，setup没有网络配置选项。网上说“对于 CentOs 7 ，setup的命令已经过时 ，应该通过 nmtui 命令来设置网络 ”。

### （3）修改网络配置文件



### （4）图像界面配置IP地址



## 2.2 Linux网络配置文件

### （1）网卡信息文件

* `/etc/sysconfig/network-scripts/ifcfg-[网卡名]`

| 项目           | 解释                                 |
| -------------- | ------------------------------------ |
| DEVICE=eth0    | 网卡设备名                           |
| BOOTPROTO=none | 是否自动获取IP（none、static、dhcp） |
|                |                                      |

### （2）主机名文件
* `/etc/sysconfig/network`

### （3）DNS配置文件
* `/etc/resolv.conf`

## 2.3 虚拟机网络参数配置
 

# 第3章 Linux网络命令

##  3.1 网络环境查看命令

* `ifconfig`：查看和配置网络状态（IP和子网掩码，看不到DNS服务器地址）。
  
* `ifdown [网卡名]`：禁用该网卡。
* `ifup [网卡名]`：启用该网卡。
  
* `netstat [选项]`：
    * `-t`：列出TCP协议端口
    * `-u`：列出UDP协议端口
    * `-n`：不使用域名与服务名，而使用IP地址和端口号
    * `-l`：仅列出在监听状态的网络服务
    * `-a`：列出所有的网络连接
    * `-r`：列出路由列表，功能和route命令一致

> 小技巧：统计当前已建立的连接数量：`netstat -an | grep ESTABLISHED | wc -l`

* `route -n`：查看路由列表（可以看到网关）
* `route add default gw 192.168.1.1`：临时添加网关

* `nslookup`：查询当前DNS服务器地址。也可用于解析域名。


## 3.2 网络测试命令

* `ping [选项] ip或域名`：探测指定IP或域名的网络状况
    * `-c 次数`：指定ping包的次数。不指定次数将一直ping下去。

* `telnet [域名或IP] [端口]`：远程管理与端口探测命令。远程管理功能已被ssh取代。只用于端口探测。

* `traceroute [选项] IP或域名`：路由跟踪命令。
    * `-n`：使用IP，不使用域名，速度更快。

* `wget 下载的软件包地址`：下载命令。

* `tcpdump -i eth0 -nnX port 21`：抓包命令
    * `-i`：指定网卡接口
    * `-nn`：将数据包中的域名与服务转为IP和端口
    * `-X`：以十六进制和ASCII码显示数据包内容
    * `port`：指定监听的端口


# 第4章 远程登录工具

