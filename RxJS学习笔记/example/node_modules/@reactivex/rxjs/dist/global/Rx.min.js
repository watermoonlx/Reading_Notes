/**
  @license
  Apache License 2.0 https://github.com/ReactiveX/RxJS/blob/master/LICENSE.txt
 **/
var __extends,__assign,__rest,__decorate,__param,__metadata,__awaiter,__generator;
(function(l){function m(k,l){return function(m,u){return k[m]=l?l(m,u):u}}var u="object"===typeof global?global:"object"===typeof self?self:"object"===typeof this?this:{};"object"===typeof System&&"function"===typeof System.register?System.register("tslib",[],function(k){l(m(u,k));return{setters:[],execute:function(){}}}):"function"===typeof define&&define.amd?define("tslib",["exports"],function(k){l(m(u,m(k)))}):"object"===typeof module&&"object"===typeof module.exports?l(m(u,m(module.exports))):
l(m(u))})(function(l){__extends=function(l,u){function k(){this.constructor=l}for(var m in u)u.hasOwnProperty(m)&&(l[m]=u[m]);l.prototype=null===u?Object.create(u):(k.prototype=u.prototype,new k)};__assign=Object.assign||function(l){for(var m,k=1,E=arguments.length;k<E;k++){m=arguments[k];for(var w in m)Object.prototype.hasOwnProperty.call(m,w)&&(l[w]=m[w])}return l};__rest=function(l,u){var k={},m;for(m in l)Object.prototype.hasOwnProperty.call(l,m)&&0>u.indexOf(m)&&(k[m]=l[m]);if(null!=l&&"function"===
typeof Object.getOwnPropertySymbols){var w=0;for(m=Object.getOwnPropertySymbols(l);w<m.length;w++)0>u.indexOf(m[w])&&(k[m[w]]=l[m[w]])}return k};__decorate=function(l,u,k,E){var m=arguments.length,A=3>m?u:null===E?E=Object.getOwnPropertyDescriptor(u,k):E,F;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)A=Reflect.decorate(l,u,k,E);else for(var v=l.length-1;0<=v;v--)if(F=l[v])A=(3>m?F(A):3<m?F(u,k,A):F(u,k))||A;return 3<m&&A&&Object.defineProperty(u,k,A),A};__param=function(l,u){return function(k,
m){u(k,m,l)}};__metadata=function(l,u){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(l,u)};__awaiter=function(l,u,k,E){return new (k||(k=Promise))(function(m,A){function w(l){try{G(E.next(l))}catch(q){A(q)}}function v(l){try{G(E["throw"](l))}catch(q){A(q)}}function G(l){l.done?m(l.value):(new k(function(k){k(l.value)})).then(w,v)}G((E=E.apply(l,u)).next())})};__generator=function(l,u){function k(l){return function(k){return m([l,k])}}function m(k){if(A)throw new TypeError("Generator is already executing.");
for(;w;)try{if(A=1,F&&(v=F[k[0]&2?"return":k[0]?"throw":"next"])&&!(v=v.call(F,k[1])).done)return v;if(F=0,v)k=[0,v.value];switch(k[0]){case 0:case 1:v=k;break;case 4:return w.label++,{value:k[1],done:!1};case 5:w.label++;F=k[1];k=[0];continue;case 7:k=w.ops.pop();w.trys.pop();continue;default:if(!(v=w.trys,v=0<v.length&&v[v.length-1])&&(6===k[0]||2===k[0])){w=0;continue}if(3===k[0]&&(!v||k[1]>v[0]&&k[1]<v[3]))w.label=k[1];else if(6===k[0]&&w.label<v[1])w.label=v[1],v=k;else if(v&&w.label<v[2])w.label=
v[2],w.ops.push(k);else{v[2]&&w.ops.pop();w.trys.pop();continue}}k=u.call(l,w)}catch(Z){k=[6,Z],F=0}finally{A=v=0}if(k[0]&5)throw k[1];return{value:k[0]?k[1]:void 0,done:!0}}var w={label:0,sent:function(){if(v[0]&1)throw v[1];return v[1]},trys:[],ops:[]},A,F,v;return{next:k(0),"throw":k(1),"return":k(2)}};l("__extends",__extends);l("__assign",__assign);l("__rest",__rest);l("__decorate",__decorate);l("__param",__param);l("__metadata",__metadata);l("__awaiter",__awaiter);l("__generator",__generator)});
(function(l,m){"object"===typeof exports&&"undefined"!==typeof module?m(exports):"function"===typeof define&&define.amd?define(["exports"],m):m(l.Rx=l.Rx||{})})(this,function(l){function m(c){return"function"===typeof c}function u(){try{return ra.apply(this,arguments)}catch(c){return n.e=c,n}}function k(c){ra=c;return u}function E(c){var a=c.subject;a.next(c.value);a.complete()}function w(c){c.subject.error(c.err)}function A(c){var a=this,b=c.source;c=c.subscriber;var d=b.callbackFunc,e=b.args,f=
b.scheduler,h=b.subject;if(!h){var h=b.subject=new Q,g=function M(){for(var b=[],d=0;d<arguments.length;d++)b[d]=arguments[d];var c=M.source,d=c.selector,c=c.subject,e=b.shift();e?c.error(e):d?(b=k(d).apply(this,b),b===n?a.add(f.schedule(v,0,{err:n.e,subject:c})):a.add(f.schedule(F,0,{value:b,subject:c}))):a.add(f.schedule(F,0,{value:1===b.length?b[0]:b,subject:c}))};g.source=b;k(d).apply(this,e.concat(g))===n&&h.error(n.e)}a.add(h.subscribe(c))}function F(c){var a=c.subject;a.next(c.value);a.complete()}
function v(c){c.subject.error(c.err)}function G(c){return c&&"function"===typeof c.schedule}function Z(c){return c&&"function"!==typeof c.subscribe&&"function"===typeof c.then}function q(c,a,b,d){var e=new sa(c,b,d);if(e.closed)return null;if(a instanceof g)if(a._isScalar)e.next(a.value),e.complete();else return a.subscribe(e);else if(H(a)){c=0;for(b=a.length;c<b&&!e.closed;c++)e.next(a[c]);e.closed||e.complete()}else{if(Z(a))return a.then(function(b){e.closed||(e.next(b),e.complete())},function(b){return e.error(b)}).then(null,
function(b){r.setTimeout(function(){throw b;})}),e;if(a&&"function"===typeof a[I]){a=a[I]();do{c=a.next();if(c.done){e.complete();break}e.next(c.value);if(e.closed)break}while(1)}else if(a&&"function"===typeof a[N])if(a=a[N](),"function"!==typeof a.subscribe)e.error(new TypeError("Provided object does not correctly implement Symbol.observable"));else return a.subscribe(new sa(c,b,d));else e.error(new TypeError("You provided "+(null!=a&&"object"===typeof a?"an invalid object":"'"+a+"'")+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable."))}return null}
function S(){for(var c=[],a=0;a<arguments.length;a++)c[a]=arguments[a];a=null;G(c[c.length-1])&&(a=c.pop());return null===a&&1===c.length?c[0]:(new J(c,a)).lift(new aa(1))}function ta(c){var a=c.value;c=c.subscriber;c.closed||(c.next(a),c.complete())}function qb(c){var a=c.err;c=c.subscriber;c.closed||c.error(a)}function ga(c){return!H(c)&&0<=c-parseFloat(c)+1}function ua(){for(var c=[],a=0;a<arguments.length;a++)c[a]=arguments[a];var a=Number.POSITIVE_INFINITY,b=null,d=c[c.length-1];G(d)?(b=c.pop(),
1<c.length&&"number"===typeof c[c.length-1]&&(a=c.pop())):"number"===typeof d&&(a=c.pop());return null===b&&1===c.length?c[0]:(new J(c,b)).lift(new aa(a))}function va(){for(var c=[],a=0;a<arguments.length;a++)c[a]=arguments[a];if(1===c.length)if(H(c[0]))c=c[0];else return c[0];return(new J(c)).lift(new rb)}function sb(c){var a=c.obj,b=c.keys,d=c.index,e=c.subscriber;d===c.length?e.complete():(b=b[d],e.next([b,a[b]]),c.index=d+1,this.schedule(c))}function ba(c){return c instanceof Date&&!isNaN(+c)}
function wa(){for(var c=[],a=0;a<arguments.length;a++)c[a]=arguments[a];a=c[c.length-1];"function"===typeof a&&c.pop();return(new J(c)).lift(new xa(a))}function ya(c,a){if("function"!==typeof c)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return this.lift(new za(c,a))}function tb(c,a){void 0===a&&(a=null);return new L({method:"GET",url:c,headers:a})}function ub(c,a,b){return new L({method:"POST",url:c,body:a,headers:b})}function vb(c,a){return new L({method:"DELETE",
url:c,headers:a})}function wb(c,a,b){return new L({method:"PUT",url:c,body:a,headers:b})}function xb(c,a){return(new L({method:"GET",url:c,responseType:"json",headers:a})).lift(new za(function(b,a){return b.response},null))}function yb(c){for(var a=[],b=1;b<arguments.length;b++)a[b-1]=arguments[b];for(var b=a.length,d=0;d<b;d++){var e=a[d],f;for(f in e)e.hasOwnProperty(f)&&(c[f]=e[f])}return c}function Aa(c){var a=c.subscriber,b=c.context;b&&a.closeContext(b);a.closed||(c.context=a.openContext(),
c.context.closeAction=this.schedule(c,c.bufferTimeSpan))}function zb(c){var a=c.bufferCreationInterval,b=c.bufferTimeSpan,d=c.subscriber,e=c.scheduler,f=d.openContext();d.closed||(d.add(f.closeAction=e.schedule(Ba,b,{subscriber:d,context:f})),this.schedule(c,a))}function Ba(c){c.subscriber.closeContext(c.context)}function Ca(c){c=new Ab(c);var a=this.lift(c);return c.caught=a}function Da(c,a,b){void 0===b&&(b=Number.POSITIVE_INFINITY);"number"===typeof a&&(b=a,a=null);return this.lift(new Ea(c,a,
b))}function Fa(c,a,b){void 0===b&&(b=Number.POSITIVE_INFINITY);"number"===typeof a&&(b=a,a=null);return this.lift(new Ga(c,a,b))}function Bb(c){c.debouncedNext()}function Cb(){return function(){function c(){this._values=[]}c.prototype.add=function(a){this.has(a)||this._values.push(a)};c.prototype.has=function(a){return-1!==this._values.indexOf(a)};Object.defineProperty(c.prototype,"size",{get:function(){return this._values.length},enumerable:!0,configurable:!0});c.prototype.clear=function(){this._values.length=
0};return c}()}function Ha(c,a){return this.lift(new Db(c,a))}function Ia(c,a,b){return this.lift(new Eb(c,a,b))}function ha(c,a){return this.lift(new Fb(c,a))}function Ja(c){return this.lift(new Gb(c))}function Hb(c){c.clearThrottle()}function Ka(c){return c(this)}function O(c,a){var b;b="function"===typeof c?c:function(){return c};if("function"===typeof a)return this.lift(new Ib(b,a));a=Object.create(this,Jb);a.source=this;a.subjectFactory=b;return a}function Kb(c,a){function b(){return!b.pred.apply(b.thisArg,
arguments)}b.pred=c;b.thisArg=a;return b}function Lb(c,a){return function(b){var d=b;for(b=0;b<a;b++)if(d=d[c[b]],"undefined"===typeof d)return;return d}}function Mb(c){var a=c.period;c.subscriber.notifyNext();this.schedule(c,a)}function Nb(){return new y}function La(){return this.lift(new Ob)}function Pb(c){c.subscriber.clearThrottle()}function Qb(c){var a=c.subscriber,b=c.windowTimeSpan,d=c.window;d&&d.complete();c.window=a.openWindow();this.schedule(c,b)}function Rb(c){var a=c.windowTimeSpan,b=
c.subscriber,d=c.scheduler,e=c.windowCreationInterval,f=b.openWindow(),h={action:this,subscription:null};h.subscription=d.schedule(Ma,a,{subscriber:b,window:f,context:h});this.add(h.subscription);this.schedule(c,e)}function Ma(c){var a=c.subscriber,b=c.window;(c=c.context)&&c.action&&c.subscription&&c.action.remove(c.subscription);a.closeWindow(b)}function Na(c,a){for(var b=0,d=a.length;b<d;b++)for(var e=a[b],f=Object.getOwnPropertyNames(e.prototype),h=0,g=f.length;h<g;h++){var k=f[h];c.prototype[k]=
e.prototype[k]}}var r="object"==typeof window&&window.window===window&&window||"object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global;if(!r)throw Error("RxJS could not find any global context (window, self, global)");var H=Array.isArray||function(c){return c&&"number"===typeof c.length},n={e:{}},ra,ia=function(c){function a(b){var a=c.call(this)||this;a.errors=b;b=Error.call(a,b?b.length+" errors occurred during unsubscription:\n  "+b.map(function(b,
a){return a+1+") "+b.toString()}).join("\n  "):"");a.name=b.name="UnsubscriptionError";a.stack=b.stack;a.message=b.message;return a}__extends(a,c);return a}(Error),x=function(){function c(a){this.closed=!1;a&&(this._unsubscribe=a)}c.prototype.unsubscribe=function(){var a=!1,b;if(!this.closed){this.closed=!0;var d=this._unsubscribe,c=this._subscriptions;this._subscriptions=null;if(m(d)){var f=k(d).call(this);f===n&&(a=!0,(b=b||[]).push(n.e))}if(H(c))for(var d=-1,h=c.length;++d<h;)f=c[d],null!=f&&"object"===
typeof f&&(f=k(f.unsubscribe).call(f),f===n&&(a=!0,b=b||[],f=n.e,f instanceof ia?b=b.concat(f.errors):b.push(f)));if(a)throw new ia(b);}};c.prototype.add=function(a){if(!a||a===c.EMPTY)return c.EMPTY;if(a===this)return this;var b=a;switch(typeof a){case "function":b=new c(a);case "object":b.closed||"function"!==typeof b.unsubscribe||(this.closed?b.unsubscribe():(this._subscriptions||(this._subscriptions=[])).push(b));break;default:throw Error("unrecognized teardown "+a+" added to Subscription.");
}return b};c.prototype.remove=function(a){if(null!=a&&a!==this&&a!==c.EMPTY){var b=this._subscriptions;b&&(a=b.indexOf(a),-1!==a&&b.splice(a,1))}};return c}();x.EMPTY=function(c){c.closed=!0;return c}(new x);var ja={closed:!0,next:function(c){},error:function(c){throw c;},complete:function(){}},ka=r.Symbol,T="function"===typeof ka&&"function"===typeof ka.for?ka.for("rxSubscriber"):"@@rxSubscriber",p=function(c){function a(b,d,e){var f=c.call(this)||this;f.syncErrorValue=null;f.syncErrorThrown=!1;
f.syncErrorThrowable=!1;f.isStopped=!1;switch(arguments.length){case 0:f.destination=ja;break;case 1:if(!b){f.destination=ja;break}if("object"===typeof b){b instanceof a?(f.destination=b,f.destination.add(f)):(f.syncErrorThrowable=!0,f.destination=new Oa(f,b));break}default:f.syncErrorThrowable=!0,f.destination=new Oa(f,b,d,e)}return f}__extends(a,c);a.prototype[T]=function(){return this};a.create=function(b,d,c){b=new a(b,d,c);b.syncErrorThrowable=!1;return b};a.prototype.next=function(b){this.isStopped||
this._next(b)};a.prototype.error=function(b){this.isStopped||(this.isStopped=!0,this._error(b))};a.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())};a.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,c.prototype.unsubscribe.call(this))};a.prototype._next=function(b){this.destination.next(b)};a.prototype._error=function(b){this.destination.error(b);this.unsubscribe()};a.prototype._complete=function(){this.destination.complete();this.unsubscribe()};
return a}(x),Oa=function(c){function a(b,a,e,f){var d=c.call(this)||this;d._parent=b;var g;b=d;m(a)?g=a:a&&(b=a,g=a.next,e=a.error,f=a.complete,m(b.unsubscribe)&&d.add(b.unsubscribe.bind(b)),b.unsubscribe=d.unsubscribe.bind(d));d._context=b;d._next=g;d._error=e;d._complete=f;return d}__extends(a,c);a.prototype.next=function(b){if(!this.isStopped&&this._next){var a=this._parent;a.syncErrorThrowable?this.__tryOrSetError(a,this._next,b)&&this.unsubscribe():this.__tryOrUnsub(this._next,b)}};a.prototype.error=
function(b){if(!this.isStopped){var a=this._parent;if(this._error)a.syncErrorThrowable?this.__tryOrSetError(a,this._error,b):this.__tryOrUnsub(this._error,b),this.unsubscribe();else if(a.syncErrorThrowable)a.syncErrorValue=b,a.syncErrorThrown=!0,this.unsubscribe();else throw this.unsubscribe(),b;}};a.prototype.complete=function(){if(!this.isStopped){var b=this._parent;this._complete&&(b.syncErrorThrowable?this.__tryOrSetError(b,this._complete):this.__tryOrUnsub(this._complete));this.unsubscribe()}};
a.prototype.__tryOrUnsub=function(b,a){try{b.call(this._context,a)}catch(e){throw this.unsubscribe(),e;}};a.prototype.__tryOrSetError=function(b,a,c){try{a.call(this._context,c)}catch(f){return b.syncErrorValue=f,b.syncErrorThrown=!0}return!1};a.prototype._unsubscribe=function(){var b=this._parent;this._parent=this._context=null;b.unsubscribe()};return a}(p),N=function(c){var a=c.Symbol;"function"===typeof a?a.observable?c=a.observable:(c=a("observable"),a.observable=c):c="@@observable";return c}(r),
g=function(){function c(a){this._isScalar=!1;a&&(this._subscribe=a)}c.prototype.lift=function(a){var b=new c;b.source=this;b.operator=a;return b};c.prototype.subscribe=function(a,b,c){var d=this.operator;a:{if(a){if(a instanceof p)break a;if(a[T]){a=a[T]();break a}}a=a||b||c?new p(a,b,c):new p(ja)}d?d.call(a,this.source):a.add(this._subscribe(a));if(a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a};c.prototype.forEach=function(a,b){var c=this;b||(r.Rx&&
r.Rx.config&&r.Rx.config.Promise?b=r.Rx.config.Promise:r.Promise&&(b=r.Promise));if(!b)throw Error("no Promise impl found");return new b(function(b,d){var e=c.subscribe(function(b){if(e)try{a(b)}catch(B){d(B),e.unsubscribe()}else a(b)},d,b)})};c.prototype._subscribe=function(a){return this.source.subscribe(a)};c.prototype[N]=function(){return this};return c}();g.create=function(c){return new g(c)};var P=function(c){function a(){var b,a=b=c.call(this,"object unsubscribed")||this;b.name=a.name="ObjectUnsubscribedError";
b.stack=a.stack;b.message=a.message;return b}__extends(a,c);return a}(Error),Pa=function(c){function a(b,a){var d=c.call(this)||this;d.subject=b;d.subscriber=a;d.closed=!1;return d}__extends(a,c);a.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var b=this.subject,a=b.observers;this.subject=null;!a||0===a.length||b.isStopped||b.closed||(b=a.indexOf(this.subscriber),-1!==b&&a.splice(b,1))}};return a}(x),Qa=function(c){function a(b){var a=c.call(this,b)||this;a.destination=b;return a}
__extends(a,c);return a}(p),y=function(c){function a(){var b=c.call(this)||this;b.observers=[];b.closed=!1;b.isStopped=!1;b.hasError=!1;b.thrownError=null;return b}__extends(a,c);a.prototype[T]=function(){return new Qa(this)};a.prototype.lift=function(b){var a=new ca(this,this);a.operator=b;return a};a.prototype.next=function(b){if(this.closed)throw new P;if(!this.isStopped)for(var a=this.observers,c=a.length,a=a.slice(),f=0;f<c;f++)a[f].next(b)};a.prototype.error=function(b){if(this.closed)throw new P;
this.hasError=!0;this.thrownError=b;this.isStopped=!0;for(var a=this.observers,c=a.length,a=a.slice(),f=0;f<c;f++)a[f].error(b);this.observers.length=0};a.prototype.complete=function(){if(this.closed)throw new P;this.isStopped=!0;for(var b=this.observers,a=b.length,b=b.slice(),c=0;c<a;c++)b[c].complete();this.observers.length=0};a.prototype.unsubscribe=function(){this.closed=this.isStopped=!0;this.observers=null};a.prototype._subscribe=function(b){if(this.closed)throw new P;if(this.hasError)return b.error(this.thrownError),
x.EMPTY;if(this.isStopped)return b.complete(),x.EMPTY;this.observers.push(b);return new Pa(this,b)};a.prototype.asObservable=function(){var b=new g;b.source=this;return b};return a}(g);y.create=function(c,a){return new ca(c,a)};var ca=function(c){function a(b,a){var d=c.call(this)||this;d.destination=b;d.source=a;return d}__extends(a,c);a.prototype.next=function(b){var a=this.destination;a&&a.next&&a.next(b)};a.prototype.error=function(b){var a=this.destination;a&&a.error&&this.destination.error(b)};
a.prototype.complete=function(){var b=this.destination;b&&b.complete&&this.destination.complete()};a.prototype._subscribe=function(b){return this.source?this.source.subscribe(b):x.EMPTY};return a}(y),Q=function(c){function a(){var b=c.apply(this,arguments)||this;b.value=null;b.hasNext=!1;b.hasCompleted=!1;return b}__extends(a,c);a.prototype._subscribe=function(b){return this.hasCompleted&&this.hasNext?(b.next(this.value),b.complete(),x.EMPTY):this.hasError?(b.error(this.thrownError),x.EMPTY):c.prototype._subscribe.call(this,
b)};a.prototype.next=function(b){this.hasCompleted||(this.value=b,this.hasNext=!0)};a.prototype.complete=function(){this.hasCompleted=!0;this.hasNext&&c.prototype.next.call(this,this.value);c.prototype.complete.call(this)};return a}(y),Sb=function(c){function a(b,a,e,f){var d=c.call(this)||this;d.callbackFunc=b;d.selector=a;d.args=e;d.scheduler=f;return d}__extends(a,c);a.create=function(b,c,e){void 0===c&&(c=void 0);return function(){for(var d=[],h=0;h<arguments.length;h++)d[h]=arguments[h];return new a(b,
c,d,e)}};a.prototype._subscribe=function(b){var c=this.callbackFunc,e=this.args,f=this.scheduler,h=this.subject;if(f)return f.schedule(a.dispatch,0,{source:this,subscriber:b});h||(h=this.subject=new Q,f=function B(){for(var b=[],a=0;a<arguments.length;a++)b[a]=arguments[a];var c=B.source,a=c.selector,c=c.subject;a?(b=k(a).apply(this,b),b===n?c.error(n.e):(c.next(b),c.complete())):(c.next(1===b.length?b[0]:b),c.complete())},f.source=this,k(c).apply(this,e.concat(f))===n&&h.error(n.e));return h.subscribe(b)};
a.dispatch=function(b){var a=this,c=b.source;b=b.subscriber;var f=c.callbackFunc,h=c.args,g=c.scheduler,B=c.subject;if(!B){var B=c.subject=new Q,l=function pb(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];var d=pb.source,c=d.selector,d=d.subject;c?(b=k(c).apply(this,b),b===n?a.add(g.schedule(w,0,{err:n.e,subject:d})):a.add(g.schedule(E,0,{value:b,subject:d}))):a.add(g.schedule(E,0,{value:1===b.length?b[0]:b,subject:d}))};l.source=c;k(f).apply(this,h.concat(l))===n&&B.error(n.e)}a.add(B.subscribe(b))};
return a}(g).create;g.bindCallback=Sb;var Tb=function(c){function a(b,a,e,f){var d=c.call(this)||this;d.callbackFunc=b;d.selector=a;d.args=e;d.scheduler=f;return d}__extends(a,c);a.create=function(b,c,e){void 0===c&&(c=void 0);return function(){for(var d=[],h=0;h<arguments.length;h++)d[h]=arguments[h];return new a(b,c,d,e)}};a.prototype._subscribe=function(b){var a=this.callbackFunc,c=this.args,f=this.scheduler,h=this.subject;if(f)return f.schedule(A,0,{source:this,subscriber:b});h||(h=this.subject=
new Q,f=function B(){for(var b=[],a=0;a<arguments.length;a++)b[a]=arguments[a];var c=B.source,a=c.selector,c=c.subject,d=b.shift();d?c.error(d):a?(b=k(a).apply(this,b),b===n?c.error(n.e):(c.next(b),c.complete())):(c.next(1===b.length?b[0]:b),c.complete())},f.source=this,k(a).apply(this,c.concat(f))===n&&h.error(n.e));return h.subscribe(b)};return a}(g).create;g.bindNodeCallback=Tb;var la=function(c){function a(b,a){var d=c.call(this)||this;d.value=b;d.scheduler=a;d._isScalar=!0;a&&(d._isScalar=!1);
return d}__extends(a,c);a.create=function(b,c){return new a(b,c)};a.dispatch=function(b){var a=b.value,c=b.subscriber;b.done?c.complete():(c.next(a),c.closed||(b.done=!0,this.schedule(b)))};a.prototype._subscribe=function(b){var c=this.value,e=this.scheduler;if(e)return e.schedule(a.dispatch,0,{done:!1,value:c,subscriber:b});b.next(c);b.closed||b.complete()};return a}(g),K=function(c){function a(b){var a=c.call(this)||this;a.scheduler=b;return a}__extends(a,c);a.create=function(b){return new a(b)};
a.dispatch=function(b){b.subscriber.complete()};a.prototype._subscribe=function(b){var c=this.scheduler;if(c)return c.schedule(a.dispatch,0,{subscriber:b});b.complete()};return a}(g),J=function(c){function a(b,a){var d=c.call(this)||this;d.array=b;d.scheduler=a;a||1!==b.length||(d._isScalar=!0,d.value=b[0]);return d}__extends(a,c);a.create=function(b,c){return new a(b,c)};a.of=function(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];c=b[b.length-1];G(c)?b.pop():c=null;var e=b.length;return 1<
e?new a(b,c):1===e?new la(b[0],c):new K(c)};a.dispatch=function(b){var a=b.array,c=b.index,f=b.subscriber;c>=b.count?f.complete():(f.next(a[c]),f.closed||(b.index=c+1,this.schedule(b)))};a.prototype._subscribe=function(b){var c=this.array,e=c.length,f=this.scheduler;if(f)return f.schedule(a.dispatch,0,{array:c,index:0,count:e,subscriber:b});for(f=0;f<e&&!b.closed;f++)b.next(c[f]);b.complete()};return a}(g),t=function(c){function a(){return c.apply(this,arguments)||this}__extends(a,c);a.prototype.notifyNext=
function(b,a,c,f,h){this.destination.next(a)};a.prototype.notifyError=function(b,a){this.destination.error(b)};a.prototype.notifyComplete=function(b){this.destination.complete()};return a}(p),I=function(c){var a=c.Symbol;if("function"===typeof a)return a.iterator||(a.iterator=a("iterator polyfill")),a.iterator;if((a=c.Set)&&"function"===typeof(new a)["@@iterator"])return"@@iterator";if(c=c.Map)for(var a=Object.getOwnPropertyNames(c.prototype),b=0;b<a.length;++b){var d=a[b];if("entries"!==d&&"size"!==
d&&c.prototype[d]===c.prototype.entries)return d}return"@@iterator"}(r),sa=function(c){function a(b,a,e){var d=c.call(this)||this;d.parent=b;d.outerValue=a;d.outerIndex=e;d.index=0;return d}__extends(a,c);a.prototype._next=function(b){this.parent.notifyNext(this.outerValue,b,this.outerIndex,this.index++,this)};a.prototype._error=function(b){this.parent.notifyError(b,this);this.unsubscribe()};a.prototype._complete=function(){this.parent.notifyComplete(this);this.unsubscribe()};return a}(p),Ra={},ma=
function(){function c(a){this.project=a}c.prototype.call=function(a,b){return b.subscribe(new Ub(a,this.project))};return c}(),Ub=function(c){function a(b,a){b=c.call(this,b)||this;b.project=a;b.active=0;b.values=[];b.observables=[];return b}__extends(a,c);a.prototype._next=function(b){this.values.push(Ra);this.observables.push(b)};a.prototype._complete=function(){var b=this.observables,a=b.length;if(0===a)this.destination.complete();else{this.toRespond=this.active=a;for(var c=0;c<a;c++){var f=b[c];
this.add(q(this,f,f,c))}}};a.prototype.notifyComplete=function(b){0===--this.active&&this.destination.complete()};a.prototype.notifyNext=function(b,a,c,f,h){b=this.values;f=b[c];f=this.toRespond?f===Ra?--this.toRespond:this.toRespond:0;b[c]=a;0===f&&(this.project?this._tryProject(b):this.destination.next(b.slice()))};a.prototype._tryProject=function(b){var a;try{a=this.project.apply(this,b)}catch(e){this.destination.error(e);return}this.destination.next(a)};return a}(t);g.combineLatest=function(){for(var c=
[],a=0;a<arguments.length;a++)c[a]=arguments[a];var b=a=null;G(c[c.length-1])&&(b=c.pop());"function"===typeof c[c.length-1]&&(a=c.pop());1===c.length&&H(c[0])&&(c=c[0]);return(new J(c,b)).lift(new ma(a))};var aa=function(){function c(a){this.concurrent=a}c.prototype.call=function(a,b){return b.subscribe(new Vb(a,this.concurrent))};return c}(),Vb=function(c){function a(b,a){b=c.call(this,b)||this;b.concurrent=a;b.hasCompleted=!1;b.buffer=[];b.active=0;return b}__extends(a,c);a.prototype._next=function(b){this.active<
this.concurrent?(this.active++,this.add(q(this,b))):this.buffer.push(b)};a.prototype._complete=function(){this.hasCompleted=!0;0===this.active&&0===this.buffer.length&&this.destination.complete()};a.prototype.notifyComplete=function(b){var a=this.buffer;this.remove(b);this.active--;0<a.length?this._next(a.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()};return a}(t);g.concat=S;var Xb=function(c){function a(b){var a=c.call(this)||this;a.observableFactory=b;return a}__extends(a,
c);a.create=function(b){return new a(b)};a.prototype._subscribe=function(b){return new Wb(b,this.observableFactory)};return a}(g),Wb=function(c){function a(b,a){b=c.call(this,b)||this;b.factory=a;b.tryDefer();return b}__extends(a,c);a.prototype.tryDefer=function(){try{this._callFactory()}catch(b){this._error(b)}};a.prototype._callFactory=function(){var b=this.factory();b&&this.add(q(this,b))};return a}(t);g.defer=Xb.create;g.empty=K.create;var Zb=function(c){function a(b,a){var d=c.call(this)||this;
d.sources=b;d.resultSelector=a;return d}__extends(a,c);a.create=function(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];if(null===b||0===arguments.length)return new K;c=null;"function"===typeof b[b.length-1]&&(c=b.pop());1===b.length&&H(b[0])&&(b=b[0]);return 0===b.length?new K:new a(b,c)};a.prototype._subscribe=function(b){return new Yb(b,this.sources,this.resultSelector)};return a}(g),Yb=function(c){function a(b,a,e){b=c.call(this,b)||this;b.sources=a;b.resultSelector=e;b.completed=
0;b.haveValues=0;e=a.length;b.total=e;b.values=Array(e);for(var d=0;d<e;d++){var h=q(b,a[d],null,d);h&&(h.outerIndex=d,b.add(h))}return b}__extends(a,c);a.prototype.notifyNext=function(b,a,c,f,h){this.values[c]=a;h._hasValue||(h._hasValue=!0,this.haveValues++)};a.prototype.notifyComplete=function(b){var a=this.destination,c=this.haveValues,f=this.resultSelector,h=this.values,g=h.length;b._hasValue?(this.completed++,this.completed===g&&(c===g&&(b=f?f.apply(this,h):h,a.next(b)),a.complete())):a.complete()};
return a}(t);g.forkJoin=Zb.create;var Sa=function(c){function a(b,a){var d=c.call(this)||this;d.promise=b;d.scheduler=a;return d}__extends(a,c);a.create=function(b,c){return new a(b,c)};a.prototype._subscribe=function(b){var a=this,c=this.promise,f=this.scheduler;if(null==f)this._isScalar?b.closed||(b.next(this.value),b.complete()):c.then(function(c){a.value=c;a._isScalar=!0;b.closed||(b.next(c),b.complete())},function(a){b.closed||b.error(a)}).then(null,function(b){r.setTimeout(function(){throw b;
})});else if(this._isScalar){if(!b.closed)return f.schedule(ta,0,{value:this.value,subscriber:b})}else c.then(function(c){a.value=c;a._isScalar=!0;b.closed||b.add(f.schedule(ta,0,{value:c,subscriber:b}))},function(a){b.closed||b.add(f.schedule(qb,0,{err:a,subscriber:b}))}).then(null,function(b){r.setTimeout(function(){throw b;})})};return a}(g),bc=function(c){function a(b,a){var d=c.call(this)||this;d.scheduler=a;if(null==b)throw Error("iterator cannot be null.");if((a=b[I])||"string"!==typeof b)if(a||
void 0===b.length){if(!a)throw new TypeError("object is not iterable");b=b[I]()}else b=new $b(b);else b=new ac(b);d.iterator=b;return d}__extends(a,c);a.create=function(b,c){return new a(b,c)};a.dispatch=function(b){var a=b.index,c=b.iterator,f=b.subscriber;if(b.hasError)f.error(b.error);else{var h=c.next();h.done?f.complete():(f.next(h.value),b.index=a+1,f.closed?"function"===typeof c.return&&c.return():this.schedule(b))}};a.prototype._subscribe=function(b){var c=this.iterator,e=this.scheduler;if(e)return e.schedule(a.dispatch,
0,{index:0,iterator:c,subscriber:b});do{e=c.next();if(e.done){b.complete();break}else b.next(e.value);if(b.closed){"function"===typeof c.return&&c.return();break}}while(1)};return a}(g),ac=function(){function c(a,b,c){void 0===b&&(b=0);void 0===c&&(c=a.length);this.str=a;this.idx=b;this.len=c}c.prototype[I]=function(){return this};c.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.str.charAt(this.idx++)}:{done:!0,value:void 0}};return c}(),$b=function(){function c(a,b,c){void 0===
b&&(b=0);if(void 0===c)if(c=+a.length,isNaN(c))c=0;else if(0!==c&&"number"===typeof c&&r.isFinite(c)){var d;d=+c;d=0===d?d:isNaN(d)?d:0>d?-1:1;c=d*Math.floor(Math.abs(c));c=0>=c?0:c>Ta?Ta:c}this.arr=a;this.idx=b;this.len=c}c.prototype[I]=function(){return this};c.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.arr[this.idx++]}:{done:!0,value:void 0}};return c}(),Ta=Math.pow(2,53)-1,cc=function(c){function a(b,a){var d=c.call(this)||this;d.arrayLike=b;d.scheduler=a;a||1!==b.length||
(d._isScalar=!0,d.value=b[0]);return d}__extends(a,c);a.create=function(b,c){var d=b.length;return 0===d?new K:1===d?new la(b[0],c):new a(b,c)};a.dispatch=function(b){var a=b.arrayLike,c=b.index,f=b.subscriber;f.closed||(c>=b.length?f.complete():(f.next(a[c]),b.index=c+1,this.schedule(b)))};a.prototype._subscribe=function(b){var c=this.arrayLike,e=this.scheduler,f=c.length;if(e)return e.schedule(a.dispatch,0,{arrayLike:c,index:0,length:f,subscriber:b});for(e=0;e<f&&!b.closed;e++)b.next(c[e]);b.complete()};
return a}(g),z=function(){function c(a,b,c){this.kind=a;this.value=b;this.error=c;this.hasValue="N"===a}c.prototype.observe=function(a){switch(this.kind){case "N":return a.next&&a.next(this.value);case "E":return a.error&&a.error(this.error);case "C":return a.complete&&a.complete()}};c.prototype.do=function(a,b,c){switch(this.kind){case "N":return a&&a(this.value);case "E":return b&&b(this.error);case "C":return c&&c()}};c.prototype.accept=function(a,b,c){return a&&"function"===typeof a.next?this.observe(a):
this.do(a,b,c)};c.prototype.toObservable=function(){switch(this.kind){case "N":return g.of(this.value);case "E":return g.throw(this.error);case "C":return g.empty()}throw Error("unexpected notification kind value");};c.createNext=function(a){return"undefined"!==typeof a?new c("N",a):this.undefinedValueNotification};c.createError=function(a){return new c("E",void 0,a)};c.createComplete=function(){return this.completeNotification};return c}();z.completeNotification=new z("C");z.undefinedValueNotification=
new z("N",void 0);var dc=function(){function c(a,b){void 0===b&&(b=0);this.scheduler=a;this.delay=b}c.prototype.call=function(a,b){return b.subscribe(new na(a,this.scheduler,this.delay))};return c}(),na=function(c){function a(b,a,e){void 0===e&&(e=0);b=c.call(this,b)||this;b.scheduler=a;b.delay=e;return b}__extends(a,c);a.dispatch=function(b){b.notification.observe(b.destination)};a.prototype.scheduleMessage=function(b){this.add(this.scheduler.schedule(a.dispatch,this.delay,new ec(b,this.destination)))};
a.prototype._next=function(b){this.scheduleMessage(z.createNext(b))};a.prototype._error=function(b){this.scheduleMessage(z.createError(b))};a.prototype._complete=function(){this.scheduleMessage(z.createComplete())};return a}(p),ec=function(){return function(c,a){this.notification=c;this.destination=a}}(),Ua=function(c){function a(b,a){var d=c.call(this,null)||this;d.ish=b;d.scheduler=a;return d}__extends(a,c);a.create=function(b,c){if(null!=b){if("function"===typeof b[N])return b instanceof g&&!c?
b:new a(b,c);if(H(b))return new J(b,c);if(Z(b))return new Sa(b,c);if("function"===typeof b[I]||"string"===typeof b)return new bc(b,c);if(b&&"number"===typeof b.length)return new cc(b,c)}throw new TypeError((null!==b&&typeof b||b)+" is not observable");};a.prototype._subscribe=function(b){var a=this.ish,c=this.scheduler;return null==c?a[N]().subscribe(b):a[N]().subscribe(new na(b,c,0))};return a}(g);g.from=Ua.create;var Va=Object.prototype.toString,fc=function(c){function a(b,a,e,f){var d=c.call(this)||
this;d.sourceObj=b;d.eventName=a;d.selector=e;d.options=f;return d}__extends(a,c);a.create=function(b,c,e,f){m(e)&&(f=e,e=void 0);return new a(b,c,f,e)};a.setupSubscription=function(b,c,e,f,h){var d;if(b&&"[object NodeList]"===Va.call(b)||b&&"[object HTMLCollection]"===Va.call(b))for(var g=0,k=b.length;g<k;g++)a.setupSubscription(b[g],c,e,f,h);else if(b&&"function"===typeof b.addEventListener&&"function"===typeof b.removeEventListener)b.addEventListener(c,e,h),d=function(){return b.removeEventListener(c,
e)};else if(b&&"function"===typeof b.on&&"function"===typeof b.off)b.on(c,e),d=function(){return b.off(c,e)};else if(b&&"function"===typeof b.addListener&&"function"===typeof b.removeListener)b.addListener(c,e),d=function(){return b.removeListener(c,e)};else throw new TypeError("Invalid event target");f.add(new x(d))};a.prototype._subscribe=function(b){var c=this.selector;a.setupSubscription(this.sourceObj,this.eventName,c?function(){for(var a=[],d=0;d<arguments.length;d++)a[d]=arguments[d];a=k(c).apply(void 0,
a);a===n?b.error(n.e):b.next(a)}:function(a){return b.next(a)},b,this.options)};return a}(g).create;g.fromEvent=fc;var gc=function(c){function a(b,a,e){var d=c.call(this)||this;d.addHandler=b;d.removeHandler=a;d.selector=e;return d}__extends(a,c);a.create=function(b,c,e){return new a(b,c,e)};a.prototype._subscribe=function(b){var a=this,c=this.removeHandler,f=this.selector?function(){for(var c=[],d=0;d<arguments.length;d++)c[d]=arguments[d];a._callSelector(b,c)}:function(a){b.next(a)};this._callAddHandler(f,
b);b.add(new x(function(){c(f)}))};a.prototype._callSelector=function(b,a){try{var c=this.selector.apply(this,a);b.next(c)}catch(f){b.error(f)}};a.prototype._callAddHandler=function(b,a){try{this.addHandler(b)}catch(e){a.error(e)}};return a}(g).create;g.fromEventPattern=gc;g.fromPromise=Sa.create;var Wa=function(c){return c},hc=function(c){function a(b,a,e,f,h){var d=c.call(this)||this;d.initialState=b;d.condition=a;d.iterate=e;d.resultSelector=f;d.scheduler=h;return d}__extends(a,c);a.create=function(b,
c,e,f,h){return 1==arguments.length?new a(b.initialState,b.condition,b.iterate,b.resultSelector||Wa,b.scheduler):void 0===f||G(f)?new a(b,c,e,Wa,f):new a(b,c,e,f,h)};a.prototype._subscribe=function(b){var c=this.initialState;if(this.scheduler)return this.scheduler.schedule(a.dispatch,0,{subscriber:b,iterate:this.iterate,condition:this.condition,resultSelector:this.resultSelector,state:c});var e=this.condition,f=this.resultSelector,h=this.iterate;do{if(e){var g=void 0;try{g=e(c)}catch(B){b.error(B);
break}if(!g){b.complete();break}}g=void 0;try{g=f(c)}catch(B){b.error(B);break}b.next(g);if(b.closed)break;try{c=h(c)}catch(B){b.error(B);break}}while(1)};a.dispatch=function(b){var a=b.subscriber,c=b.condition;if(!a.closed){if(b.needIterate)try{b.state=b.iterate(b.state)}catch(D){a.error(D);return}else b.needIterate=!0;if(c){var f=void 0;try{f=c(b.state)}catch(D){a.error(D);return}if(!f){a.complete();return}if(a.closed)return}var h;try{h=b.resultSelector(b.state)}catch(D){a.error(D);return}if(!a.closed&&
(a.next(h),!a.closed))return this.schedule(b)}};return a}(g);g.generate=hc.create;var jc=function(c){function a(b,a,e){var d=c.call(this)||this;d.condition=b;d.thenSource=a;d.elseSource=e;return d}__extends(a,c);a.create=function(b,c,e){return new a(b,c,e)};a.prototype._subscribe=function(b){return new ic(b,this.condition,this.thenSource,this.elseSource)};return a}(g),ic=function(c){function a(b,a,e,f){b=c.call(this,b)||this;b.condition=a;b.thenSource=e;b.elseSource=f;b.tryIf();return b}__extends(a,
c);a.prototype.tryIf=function(){var b=this.condition,a=this.thenSource,c=this.elseSource,f;try{(b=(f=b())?a:c)?this.add(q(this,b)):this._complete()}catch(h){this._error(h)}};return a}(t);g.if=jc.create;var U=function(c){function a(b,a){var d=c.call(this,b,a)||this;d.scheduler=b;d.work=a;d.pending=!1;return d}__extends(a,c);a.prototype.schedule=function(b,a){void 0===a&&(a=0);if(this.closed)return this;this.state=b;this.pending=!0;b=this.id;var c=this.scheduler;null!=b&&(this.id=this.recycleAsyncId(c,
b,a));this.delay=a;this.id=this.id||this.requestAsyncId(c,this.id,a);return this};a.prototype.requestAsyncId=function(b,a,c){void 0===c&&(c=0);return r.setInterval(b.flush.bind(b,this),c)};a.prototype.recycleAsyncId=function(b,a,c){void 0===c&&(c=0);return null!==c&&this.delay===c?a:(r.clearInterval(a),void 0)};a.prototype.execute=function(b,a){if(this.closed)return Error("executing a cancelled action");this.pending=!1;if(b=this._execute(b,a))return b;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,
this.id,null))};a.prototype._execute=function(b,a){a=!1;var c=void 0;try{this.work(b)}catch(f){a=!0,c=!!f&&f||Error(f)}if(a)return this.unsubscribe(),c};a.prototype._unsubscribe=function(){var b=this.id,a=this.scheduler,c=a.actions,f=c.indexOf(this);this.state=this.delay=this.work=null;this.pending=!1;this.scheduler=null;-1!==f&&c.splice(f,1);null!=b&&(this.id=this.recycleAsyncId(a,b,null))};return a}(function(c){function a(b,a){return c.call(this)||this}__extends(a,c);a.prototype.schedule=function(b,
a){return this};return a}(x)),Xa=function(){function c(a,b){void 0===b&&(b=c.now);this.SchedulerAction=a;this.now=b}c.prototype.schedule=function(a,b,c){void 0===b&&(b=0);return(new this.SchedulerAction(this,a)).schedule(c,b)};return c}();Xa.now=Date.now?Date.now:function(){return+new Date};var V=function(c){function a(){var b=c.apply(this,arguments)||this;b.actions=[];b.active=!1;b.scheduled=void 0;return b}__extends(a,c);a.prototype.flush=function(b){var a=this.actions;if(this.active)a.push(b);
else{var c;this.active=!0;do if(c=b.execute(b.state,b.delay))break;while(b=a.shift());this.active=!1;if(c){for(;b=a.shift();)b.unsubscribe();throw c;}}};return a}(Xa),C=new V(U),kc=function(c){function a(b,a){void 0===b&&(b=0);void 0===a&&(a=C);var d=c.call(this)||this;d.period=b;d.scheduler=a;if(!ga(b)||0>b)d.period=0;a&&"function"===typeof a.schedule||(d.scheduler=C);return d}__extends(a,c);a.create=function(b,c){void 0===b&&(b=0);void 0===c&&(c=C);return new a(b,c)};a.dispatch=function(b){var a=
b.subscriber,c=b.period;a.next(b.index);a.closed||(b.index+=1,this.schedule(b,c))};a.prototype._subscribe=function(b){var c=this.period;b.add(this.scheduler.schedule(a.dispatch,c,{index:0,subscriber:b,period:c}))};return a}(g).create;g.interval=kc;g.merge=ua;var rb=function(){function c(){}c.prototype.call=function(a,b){return b.subscribe(new lc(a))};return c}(),lc=function(c){function a(b){b=c.call(this,b)||this;b.hasFirst=!1;b.observables=[];b.subscriptions=[];return b}__extends(a,c);a.prototype._next=
function(b){this.observables.push(b)};a.prototype._complete=function(){var b=this.observables,a=b.length;if(0===a)this.destination.complete();else{for(var c=0;c<a&&!this.hasFirst;c++){var f=b[c],f=q(this,f,f,c);this.subscriptions&&this.subscriptions.push(f);this.add(f)}this.observables=null}};a.prototype.notifyNext=function(b,a,c,f,h){if(!this.hasFirst){this.hasFirst=!0;for(b=0;b<this.subscriptions.length;b++)b!==c&&(f=this.subscriptions[b],f.unsubscribe(),this.remove(f));this.subscriptions=null}this.destination.next(a)};
return a}(t);g.race=va;var mc=function(c){function a(){return c.call(this)||this}__extends(a,c);a.create=function(){return new a};a.prototype._subscribe=function(b){};return a}(g).create;g.never=mc;g.of=J.of;var Ya=function(){function c(a){this.nextSources=a}c.prototype.call=function(a,b){return b.subscribe(new nc(a,this.nextSources))};return c}(),nc=function(c){function a(b,a){var d=c.call(this,b)||this;d.destination=b;d.nextSources=a;return d}__extends(a,c);a.prototype.notifyError=function(b,a){this.subscribeToNextSource()};
a.prototype.notifyComplete=function(b){this.subscribeToNextSource()};a.prototype._error=function(b){this.subscribeToNextSource()};a.prototype._complete=function(){this.subscribeToNextSource()};a.prototype.subscribeToNextSource=function(){var b=this.nextSources.shift();b?this.add(q(this,b)):this.destination.complete()};return a}(t);g.onErrorResumeNext=function(){for(var c=[],a=0;a<arguments.length;a++)c[a]=arguments[a];1===c.length&&H(c[0])&&(c=c[0]);a=c.shift();return(new Ua(a,null)).lift(new Ya(c))};
var oc=function(c){function a(b,a){var d=c.call(this)||this;d.obj=b;d.scheduler=a;d.keys=Object.keys(b);return d}__extends(a,c);a.create=function(b,c){return new a(b,c)};a.prototype._subscribe=function(b){var a=this.keys,c=this.scheduler,f=a.length;if(c)return c.schedule(sb,0,{obj:this.obj,keys:a,length:f,index:0,subscriber:b});for(c=0;c<f;c++){var h=a[c];b.next([h,this.obj[h]])}b.complete()};return a}(g).create;g.pairs=oc;var pc=function(c){function a(b,a,e){var d=c.call(this)||this;d.start=b;d._count=
a;d.scheduler=e;return d}__extends(a,c);a.create=function(b,c,e){void 0===b&&(b=0);void 0===c&&(c=0);return new a(b,c,e)};a.dispatch=function(b){var a=b.start,c=b.index,f=b.subscriber;c>=b.count?f.complete():(f.next(a),f.closed||(b.index=c+1,b.start=a+1,this.schedule(b)))};a.prototype._subscribe=function(b){var c=0,e=this.start,f=this._count,h=this.scheduler;if(h)return h.schedule(a.dispatch,0,{index:c,count:f,start:e,subscriber:b});do{if(c++>=f){b.complete();break}b.next(e++);if(b.closed)break}while(1)};
return a}(g).create;g.range=pc;var rc=function(c){function a(b,a){var d=c.call(this)||this;d.resourceFactory=b;d.observableFactory=a;return d}__extends(a,c);a.create=function(b,c){return new a(b,c)};a.prototype._subscribe=function(b){var a=this.resourceFactory,c=this.observableFactory,f;try{return f=a(),new qc(b,f,c)}catch(h){b.error(h)}};return a}(g),qc=function(c){function a(b,a,e){var d=c.call(this,b)||this;d.resource=a;d.observableFactory=e;b.add(a);d.tryUse();return d}__extends(a,c);a.prototype.tryUse=
function(){try{var b=this.observableFactory.call(this,this.resource);b&&this.add(q(this,b))}catch(d){this._error(d)}};return a}(t);g.using=rc.create;var sc=function(c){function a(b,a){var d=c.call(this)||this;d.error=b;d.scheduler=a;return d}__extends(a,c);a.create=function(b,c){return new a(b,c)};a.dispatch=function(b){b.subscriber.error(b.error)};a.prototype._subscribe=function(b){var c=this.error,e=this.scheduler;if(e)return e.schedule(a.dispatch,0,{error:c,subscriber:b});b.error(c)};return a}(g).create;
g.throw=sc;var tc=function(c){function a(b,a,e){void 0===b&&(b=0);var d=c.call(this)||this;d.period=-1;d.dueTime=0;ga(a)?d.period=1>Number(a)&&1||Number(a):G(a)&&(e=a);G(e)||(e=C);d.scheduler=e;d.dueTime=ba(b)?+b-d.scheduler.now():b;return d}__extends(a,c);a.create=function(b,c,e){void 0===b&&(b=0);return new a(b,c,e)};a.dispatch=function(b){var a=b.index,c=b.period,f=b.subscriber;f.next(a);if(!f.closed){if(-1===c)return f.complete();b.index=a+1;this.schedule(b,c)}};a.prototype._subscribe=function(b){return this.scheduler.schedule(a.dispatch,
this.dueTime,{index:0,period:this.period,subscriber:b})};return a}(g).create;g.timer=tc;var xa=function(){function c(a){this.project=a}c.prototype.call=function(a,b){return b.subscribe(new uc(a,this.project))};return c}(),uc=function(c){function a(b,a,e){void 0===e&&(e=Object.create(null));b=c.call(this,b)||this;b.iterators=[];b.active=0;b.project="function"===typeof a?a:null;b.values=e;return b}__extends(a,c);a.prototype._next=function(b){var a=this.iterators;H(b)?a.push(new vc(b)):"function"===
typeof b[I]?a.push(new wc(b[I]())):a.push(new xc(this.destination,this,b))};a.prototype._complete=function(){var b=this.iterators,a=b.length;this.active=a;for(var c=0;c<a;c++){var f=b[c];f.stillUnsubscribed?this.add(f.subscribe(f,c)):this.active--}};a.prototype.notifyInactive=function(){this.active--;0===this.active&&this.destination.complete()};a.prototype.checkIterators=function(){for(var b=this.iterators,a=b.length,c=this.destination,f=0;f<a;f++){var h=b[f];if("function"===typeof h.hasValue&&!h.hasValue())return}for(var g=
!1,k=[],f=0;f<a;f++){var h=b[f],l=h.next();h.hasCompleted()&&(g=!0);if(l.done){c.complete();return}k.push(l.value)}this.project?this._tryProject(k):c.next(k);g&&c.complete()};a.prototype._tryProject=function(b){var a;try{a=this.project.apply(this,b)}catch(e){this.destination.error(e);return}this.destination.next(a)};return a}(p),wc=function(){function c(a){this.iterator=a;this.nextResult=a.next()}c.prototype.hasValue=function(){return!0};c.prototype.next=function(){var a=this.nextResult;this.nextResult=
this.iterator.next();return a};c.prototype.hasCompleted=function(){var a=this.nextResult;return a&&a.done};return c}(),vc=function(){function c(a){this.array=a;this.length=this.index=0;this.length=a.length}c.prototype[I]=function(){return this};c.prototype.next=function(a){a=this.index++;var b=this.array;return a<this.length?{value:b[a],done:!1}:{value:null,done:!0}};c.prototype.hasValue=function(){return this.array.length>this.index};c.prototype.hasCompleted=function(){return this.array.length===
this.index};return c}(),xc=function(c){function a(b,a,e){b=c.call(this,b)||this;b.parent=a;b.observable=e;b.stillUnsubscribed=!0;b.buffer=[];b.isComplete=!1;return b}__extends(a,c);a.prototype[I]=function(){return this};a.prototype.next=function(){var b=this.buffer;return 0===b.length&&this.isComplete?{value:null,done:!0}:{value:b.shift(),done:!1}};a.prototype.hasValue=function(){return 0<this.buffer.length};a.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete};a.prototype.notifyComplete=
function(){0<this.buffer.length?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()};a.prototype.notifyNext=function(b,a,c,f,h){this.buffer.push(a);this.parent.checkIterators()};a.prototype.subscribe=function(b,a){return q(this,this.observable,this,a)};return a}(t);g.zip=wa;var za=function(){function c(a,b){this.project=a;this.thisArg=b}c.prototype.call=function(a,b){return b.subscribe(new yc(a,this.project,this.thisArg))};return c}(),yc=function(c){function a(b,a,e){b=c.call(this,
b)||this;b.project=a;b.count=0;b.thisArg=e||b;return b}__extends(a,c);a.prototype._next=function(b){var a;try{a=this.project.call(this.thisArg,b,this.count++)}catch(e){this.destination.error(e);return}this.destination.next(a)};return a}(p),L=function(c){function a(b){var a=c.call(this)||this,e={async:!0,createXHR:function(){var b;if(this.crossDomain)if(r.XMLHttpRequest)b=new r.XMLHttpRequest,"withCredentials"in b&&(b.withCredentials=!!this.withCredentials);else if(r.XDomainRequest)b=new r.XDomainRequest;
else throw Error("CORS is not supported by your browser");else if(r.XMLHttpRequest)b=new r.XMLHttpRequest;else{var a=void 0;try{for(var c=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],d=0;3>d;d++)try{a=c[d];new r.ActiveXObject(a);break}catch(ob){}b=new r.ActiveXObject(a)}catch(ob){throw Error("XMLHttpRequest is not supported by your browser");}}return b},crossDomain:!1,withCredentials:!1,headers:{},method:"GET",responseType:"json",timeout:0};if("string"===typeof b)e.url=b;else for(var f in b)b.hasOwnProperty(f)&&
(e[f]=b[f]);a.request=e;return a}__extends(a,c);a.prototype._subscribe=function(b){return new zc(b,this.request)};return a}(g);L.create=function(){var c=function(a){return new L(a)};c.get=tb;c.post=ub;c.delete=vb;c.put=wb;c.getJSON=xb;return c}();var zc=function(c){function a(b,a){b=c.call(this,b)||this;b.request=a;b.done=!1;var d=a.headers=a.headers||{};a.crossDomain||d["X-Requested-With"]||(d["X-Requested-With"]="XMLHttpRequest");"Content-Type"in d||r.FormData&&a.body instanceof r.FormData||"undefined"===
typeof a.body||(d["Content-Type"]="application/x-www-form-urlencoded; charset\x3dUTF-8");a.body=b.serializeBody(a.body,a.headers["Content-Type"]);b.send();return b}__extends(a,c);a.prototype.next=function(b){this.done=!0;var a=this.destination;b=new Za(b,this.xhr,this.request);a.next(b)};a.prototype.send=function(){var b=this.request,a=this.request,c=a.user,f=a.method,h=a.url,g=a.async,l=a.password,p=a.headers,a=a.body,m=k(b.createXHR).call(b);if(m===n)this.error(n.e);else{this.xhr=m;c=c?k(m.open).call(m,
f,h,g,c,l):k(m.open).call(m,f,h,g);if(c===n)return this.error(n.e),null;m.timeout=b.timeout;m.responseType=b.responseType;this.setHeaders(m,p);this.setupEvents(m,b);c=a?k(m.send).call(m,a):k(m.send).call(m);if(c===n)return this.error(n.e),null}return m};a.prototype.serializeBody=function(b,a){if(!b||"string"===typeof b||r.FormData&&b instanceof r.FormData)return b;if(a){var c=a.indexOf(";");-1!==c&&(a=a.substring(0,c))}switch(a){case "application/x-www-form-urlencoded":return Object.keys(b).map(function(a){return encodeURI(a)+
"\x3d"+encodeURI(b[a])}).join("\x26");case "application/json":return JSON.stringify(b);default:return b}};a.prototype.setHeaders=function(b,a){for(var c in a)a.hasOwnProperty(c)&&b.setRequestHeader(c,a[c])};a.prototype.setupEvents=function(b,a){function c(b){var a=c.subscriber,d=c.progressSubscriber,e=c.request;d&&d.error(b);a.error(new $a(this,e))}function d(b){var a=d.subscriber,c=d.progressSubscriber,e=d.request;if(4===this.readyState){var f=1223===this.status?204:this.status,h="text"===this.responseType?
this.response||this.responseText:this.response;0===f&&(f=h?200:0);200<=f&&300>f?(c&&c.complete(),a.next(b),a.complete()):(c&&c.error(b),a.error(new da("ajax error "+f,this,e)))}}var h=a.progressSubscriber;b.ontimeout=c;c.request=a;c.subscriber=this;c.progressSubscriber=h;if(b.upload&&"withCredentials"in b&&r.XDomainRequest){if(h){var g;g=function(b){g.progressSubscriber.next(b)};b.onprogress=g;g.progressSubscriber=h}var k;k=function(b){var a=k.progressSubscriber,c=k.subscriber,d=k.request;a&&a.error(b);
c.error(new da("ajax error",this,d))};b.onerror=k;k.request=a;k.subscriber=this;k.progressSubscriber=h}b.onreadystatechange=d;d.subscriber=this;d.progressSubscriber=h;d.request=a};a.prototype.unsubscribe=function(){var b=this.xhr;!this.done&&b&&4!==b.readyState&&"function"===typeof b.abort&&b.abort();c.prototype.unsubscribe.call(this)};return a}(p),Za=function(){return function(c,a,b){this.originalEvent=c;this.xhr=a;this.request=b;this.status=a.status;this.responseType=a.responseType||b.responseType;
switch(this.responseType){case "json":this.response="response"in a?a.responseType?a.response:JSON.parse(a.response||a.responseText||"null"):JSON.parse(a.responseText||"null");break;case "xml":this.response=a.responseXML;break;default:this.response="response"in a?a.response:a.responseText}}}(),da=function(c){function a(b,a,e){var d=c.call(this,b)||this;d.message=b;d.xhr=a;d.request=e;d.status=a.status;return d}__extends(a,c);return a}(Error),$a=function(c){function a(b,a){return c.call(this,"ajax timeout",
b,a)||this}__extends(a,c);return a}(da);g.ajax=L.create;var Ac=function(c){function a(b,a){var d=c.call(this,b,a)||this;d.scheduler=b;d.work=a;return d}__extends(a,c);a.prototype.schedule=function(b,a){void 0===a&&(a=0);if(0<a)return c.prototype.schedule.call(this,b,a);this.delay=a;this.state=b;this.scheduler.flush(this);return this};a.prototype.execute=function(b,a){return 0<a||this.closed?c.prototype.execute.call(this,b,a):this._execute(b,a)};a.prototype.requestAsyncId=function(b,a,e){void 0===
e&&(e=0);return null!==e&&0<e||null===e&&0<this.delay?c.prototype.requestAsyncId.call(this,b,a,e):b.flush(this)};return a}(U),ab=new (function(c){function a(){return c.apply(this,arguments)||this}__extends(a,c);return a}(V))(Ac),R=function(c){function a(b,a,e){void 0===b&&(b=Number.POSITIVE_INFINITY);void 0===a&&(a=Number.POSITIVE_INFINITY);var d=c.call(this)||this;d.scheduler=e;d._events=[];d._bufferSize=1>b?1:b;d._windowTime=1>a?1:a;return d}__extends(a,c);a.prototype.next=function(b){var a=this._getNow();
this._events.push(new Bc(a,b));this._trimBufferThenGetEvents();c.prototype.next.call(this,b)};a.prototype._subscribe=function(b){var a=this._trimBufferThenGetEvents(),c=this.scheduler,f;if(this.closed)throw new P;this.hasError?f=x.EMPTY:this.isStopped?f=x.EMPTY:(this.observers.push(b),f=new Pa(this,b));c&&b.add(b=new na(b,c));for(var c=a.length,h=0;h<c&&!b.closed;h++)b.next(a[h].value);this.hasError?b.error(this.thrownError):this.isStopped&&b.complete();return f};a.prototype._getNow=function(){return(this.scheduler||
ab).now()};a.prototype._trimBufferThenGetEvents=function(){for(var b=this._getNow(),a=this._bufferSize,c=this._windowTime,f=this._events,h=f.length,g=0;g<h&&!(b-f[g].time<c);)g++;h>a&&(g=Math.max(g,h-a));0<g&&f.splice(0,g);return f};return a}(y),Bc=function(){return function(c,a){this.time=c;this.value=a}}(),Cc=r.Object.assign||yb,Dc=function(c){function a(b,a){if(b instanceof g)a=c.call(this,a,b)||this;else{a=c.call(this)||this;a.WebSocketCtor=r.WebSocket;a._output=new y;"string"===typeof b?a.url=
b:Cc(a,b);if(!a.WebSocketCtor)throw Error("no WebSocket constructor can be found");a.destination=new R}return a}__extends(a,c);a.prototype.resultSelector=function(b){return JSON.parse(b.data)};a.create=function(b){return new a(b)};a.prototype.lift=function(b){var c=new a(this,this.destination);c.operator=b;return c};a.prototype._resetState=function(){this.socket=null;this.source||(this.destination=new R);this._output=new y};a.prototype.multiplex=function(b,a,c){var d=this;return new g(function(e){var f=
k(b)();f===n?e.error(n.e):d.next(f);var h=d.subscribe(function(b){var a=k(c)(b);a===n?e.error(n.e):a&&e.next(b)},function(b){return e.error(b)},function(){return e.complete()});return function(){var b=k(a)();b===n?e.error(n.e):d.next(b);h.unsubscribe()}})};a.prototype._connectSocket=function(){var b=this,a=this.WebSocketCtor,c=this._output,f=null;try{this.socket=f=this.protocol?new a(this.url,this.protocol):new a(this.url)}catch(D){c.error(D);return}var h=new x(function(){b.socket=null;f&&1===f.readyState&&
f.close()});f.onopen=function(a){var d=b.openObserver;d&&d.next(a);a=b.destination;b.destination=p.create(function(b){return 1===f.readyState&&f.send(b)},function(a){var d=b.closingObserver;d&&d.next(void 0);a&&a.code?f.close(a.code,a.reason):c.error(new TypeError("WebSocketSubject.error must be called with an object with an error code, and an optional reason: { code: number, reason: string }"));b._resetState()},function(){var a=b.closingObserver;a&&a.next(void 0);f.close();b._resetState()});a&&a instanceof
R&&h.add(a.subscribe(b.destination))};f.onerror=function(a){b._resetState();c.error(a)};f.onclose=function(a){b._resetState();var d=b.closeObserver;d&&d.next(a);a.wasClean?c.complete():c.error(a)};f.onmessage=function(a){a=k(b.resultSelector)(a);a===n?c.error(n.e):c.next(a)}};a.prototype._subscribe=function(b){var a=this,c=this.source;if(c)return c.subscribe(b);this.socket||this._connectSocket();c=new x;c.add(this._output.subscribe(b));c.add(function(){var b=a.socket;0===a._output.observers.length&&
(b&&1===b.readyState&&b.close(),a._resetState())});return c};a.prototype.unsubscribe=function(){var b=this.source,a=this.socket;a&&1===a.readyState&&(a.close(),this._resetState());c.prototype.unsubscribe.call(this);b||(this.destination=new R)};return a}(ca).create;g.webSocket=Dc;var Fc=function(){function c(a){this.closingNotifier=a}c.prototype.call=function(a,b){return b.subscribe(new Ec(a,this.closingNotifier))};return c}(),Ec=function(c){function a(b,a){b=c.call(this,b)||this;b.buffer=[];b.add(q(b,
a));return b}__extends(a,c);a.prototype._next=function(b){this.buffer.push(b)};a.prototype.notifyNext=function(b,a,c,f,h){b=this.buffer;this.buffer=[];this.destination.next(b)};return a}(t);g.prototype.buffer=function(c){return this.lift(new Fc(c))};var Hc=function(){function c(a,b){this.bufferSize=a;this.startBufferEvery=b}c.prototype.call=function(a,b){return b.subscribe(new Gc(a,this.bufferSize,this.startBufferEvery))};return c}(),Gc=function(c){function a(b,a,e){b=c.call(this,b)||this;b.bufferSize=
a;b.startBufferEvery=e;b.buffers=[];b.count=0;return b}__extends(a,c);a.prototype._next=function(b){var a=this.count++,c=this.destination,f=this.bufferSize,h=this.startBufferEvery,g=this.buffers;0===a%(null==h?f:h)&&g.push([]);for(a=g.length;a--;)h=g[a],h.push(b),h.length===f&&(g.splice(a,1),c.next(h))};a.prototype._complete=function(){for(var b=this.destination,a=this.buffers;0<a.length;){var e=a.shift();0<e.length&&b.next(e)}c.prototype._complete.call(this)};return a}(p);g.prototype.bufferCount=
function(c,a){void 0===a&&(a=null);return this.lift(new Hc(c,a))};var Jc=function(){function c(a,b,c,e){this.bufferTimeSpan=a;this.bufferCreationInterval=b;this.maxBufferSize=c;this.scheduler=e}c.prototype.call=function(a,b){return b.subscribe(new Ic(a,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))};return c}(),Kc=function(){return function(){this.buffer=[]}}(),Ic=function(c){function a(b,a,e,f,h){b=c.call(this,b)||this;b.bufferTimeSpan=a;b.bufferCreationInterval=
e;b.maxBufferSize=f;b.scheduler=h;b.contexts=[];f=b.openContext();b.timespanOnly=null==e||0>e;if(b.timespanOnly)b.add(f.closeAction=h.schedule(Aa,a,{subscriber:b,context:f,bufferTimeSpan:a}));else{var d={bufferTimeSpan:a,bufferCreationInterval:e,subscriber:b,scheduler:h};b.add(f.closeAction=h.schedule(Ba,a,{subscriber:b,context:f}));b.add(h.schedule(zb,e,d))}return b}__extends(a,c);a.prototype._next=function(b){for(var a=this.contexts,c=a.length,f,h=0;h<c;h++){var g=a[h],k=g.buffer;k.push(b);k.length==
this.maxBufferSize&&(f=g)}if(f)this.onBufferFull(f)};a.prototype._error=function(b){this.contexts.length=0;c.prototype._error.call(this,b)};a.prototype._complete=function(){for(var b=this.contexts,a=this.destination;0<b.length;){var e=b.shift();a.next(e.buffer)}c.prototype._complete.call(this)};a.prototype._unsubscribe=function(){this.contexts=null};a.prototype.onBufferFull=function(b){this.closeContext(b);b=b.closeAction;b.unsubscribe();this.remove(b);if(!this.closed&&this.timespanOnly){b=this.openContext();
var a=this.bufferTimeSpan;this.add(b.closeAction=this.scheduler.schedule(Aa,a,{subscriber:this,context:b,bufferTimeSpan:a}))}};a.prototype.openContext=function(){var b=new Kc;this.contexts.push(b);return b};a.prototype.closeContext=function(b){this.destination.next(b.buffer);var a=this.contexts;0<=(a?a.indexOf(b):-1)&&a.splice(a.indexOf(b),1)};return a}(p);g.prototype.bufferTime=function(c){var a=arguments.length,b=C;G(arguments[arguments.length-1])&&(b=arguments[arguments.length-1],a--);var d=null;
2<=a&&(d=arguments[1]);var e=Number.POSITIVE_INFINITY;3<=a&&(e=arguments[2]);return this.lift(new Jc(c,d,e,b))};var Mc=function(){function c(a,b){this.openings=a;this.closingSelector=b}c.prototype.call=function(a,b){return b.subscribe(new Lc(a,this.openings,this.closingSelector))};return c}(),Lc=function(c){function a(b,a,e){b=c.call(this,b)||this;b.openings=a;b.closingSelector=e;b.contexts=[];b.add(q(b,a));return b}__extends(a,c);a.prototype._next=function(b){for(var a=this.contexts,c=a.length,f=
0;f<c;f++)a[f].buffer.push(b)};a.prototype._error=function(b){for(var a=this.contexts;0<a.length;){var e=a.shift();e.subscription.unsubscribe();e.buffer=null;e.subscription=null}this.contexts=null;c.prototype._error.call(this,b)};a.prototype._complete=function(){for(var b=this.contexts;0<b.length;){var a=b.shift();this.destination.next(a.buffer);a.subscription.unsubscribe();a.buffer=null;a.subscription=null}this.contexts=null;c.prototype._complete.call(this)};a.prototype.notifyNext=function(b,a,c,
f,h){b?this.closeBuffer(b):this.openBuffer(a)};a.prototype.notifyComplete=function(b){this.closeBuffer(b.context)};a.prototype.openBuffer=function(b){try{var a=this.closingSelector.call(this,b);a&&this.trySubscribe(a)}catch(e){this._error(e)}};a.prototype.closeBuffer=function(b){var a=this.contexts;if(a&&b){var c=b.subscription;this.destination.next(b.buffer);a.splice(a.indexOf(b),1);this.remove(c);c.unsubscribe()}};a.prototype.trySubscribe=function(b){var a=this.contexts,c=new x,f={buffer:[],subscription:c};
a.push(f);b=q(this,b,f);!b||b.closed?this.closeBuffer(f):(b.context=f,this.add(b),c.add(b))};return a}(t);g.prototype.bufferToggle=function(c,a){return this.lift(new Mc(c,a))};var Oc=function(){function c(a){this.closingSelector=a}c.prototype.call=function(a,b){return b.subscribe(new Nc(a,this.closingSelector))};return c}(),Nc=function(c){function a(b,a){b=c.call(this,b)||this;b.closingSelector=a;b.subscribing=!1;b.openBuffer();return b}__extends(a,c);a.prototype._next=function(b){this.buffer.push(b)};
a.prototype._complete=function(){var b=this.buffer;b&&this.destination.next(b);c.prototype._complete.call(this)};a.prototype._unsubscribe=function(){this.buffer=null;this.subscribing=!1};a.prototype.notifyNext=function(b,a,c,f,h){this.openBuffer()};a.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()};a.prototype.openBuffer=function(){var b=this.closingSubscription;b&&(this.remove(b),b.unsubscribe());(b=this.buffer)&&this.destination.next(b);this.buffer=[];var a=
k(this.closingSelector)();a===n?this.error(n.e):(this.closingSubscription=b=new x,this.add(b),this.subscribing=!0,b.add(q(this,a)),this.subscribing=!1)};return a}(t);g.prototype.bufferWhen=function(c){return this.lift(new Oc(c))};var Ab=function(){function c(a){this.selector=a}c.prototype.call=function(a,b){return b.subscribe(new Pc(a,this.selector,this.caught))};return c}(),Pc=function(c){function a(b,a,e){b=c.call(this,b)||this;b.selector=a;b.caught=e;return b}__extends(a,c);a.prototype.error=function(b){if(!this.isStopped){var a=
void 0;try{a=this.selector(b,this.caught)}catch(e){this.destination.error(e);return}this.unsubscribe();this.destination.remove(this);q(this,a)}};return a}(t);g.prototype.catch=Ca;g.prototype._catch=Ca;g.prototype.combineAll=function(c){return this.lift(new ma(c))};g.prototype.combineLatest=function(){for(var c=[],a=0;a<arguments.length;a++)c[a]=arguments[a];a=null;"function"===typeof c[c.length-1]&&(a=c.pop());1===c.length&&H(c[0])&&(c=c[0]);c.unshift(this);return this.lift.call(new J(c),new ma(a))};
g.prototype.concat=function(){for(var c=[],a=0;a<arguments.length;a++)c[a]=arguments[a];return this.lift.call(S.apply(void 0,[this].concat(c)))};g.prototype.concatAll=function(){return this.lift(new aa(1))};var Ea=function(){function c(a,b,c){void 0===c&&(c=Number.POSITIVE_INFINITY);this.project=a;this.resultSelector=b;this.concurrent=c}c.prototype.call=function(a,b){return b.subscribe(new Qc(a,this.project,this.resultSelector,this.concurrent))};return c}(),Qc=function(c){function a(b,a,e,f){void 0===
f&&(f=Number.POSITIVE_INFINITY);b=c.call(this,b)||this;b.project=a;b.resultSelector=e;b.concurrent=f;b.hasCompleted=!1;b.buffer=[];b.active=0;b.index=0;return b}__extends(a,c);a.prototype._next=function(b){this.active<this.concurrent?this._tryNext(b):this.buffer.push(b)};a.prototype._tryNext=function(b){var a,c=this.index++;try{a=this.project(b,c)}catch(f){this.destination.error(f);return}this.active++;this._innerSub(a,b,c)};a.prototype._innerSub=function(b,a,c){this.add(q(this,b,a,c))};a.prototype._complete=
function(){this.hasCompleted=!0;0===this.active&&0===this.buffer.length&&this.destination.complete()};a.prototype.notifyNext=function(b,a,c,f,h){this.resultSelector?this._notifyResultSelector(b,a,c,f):this.destination.next(a)};a.prototype._notifyResultSelector=function(b,a,c,f){var d;try{d=this.resultSelector(b,a,c,f)}catch(D){this.destination.error(D);return}this.destination.next(d)};a.prototype.notifyComplete=function(b){var a=this.buffer;this.remove(b);this.active--;0<a.length?this._next(a.shift()):
0===this.active&&this.hasCompleted&&this.destination.complete()};return a}(t);g.prototype.concatMap=function(c,a){return this.lift(new Ea(c,a,1))};var Ga=function(){function c(a,b,c){void 0===c&&(c=Number.POSITIVE_INFINITY);this.ish=a;this.resultSelector=b;this.concurrent=c}c.prototype.call=function(a,b){return b.subscribe(new Rc(a,this.ish,this.resultSelector,this.concurrent))};return c}(),Rc=function(c){function a(b,a,e,f){void 0===f&&(f=Number.POSITIVE_INFINITY);b=c.call(this,b)||this;b.ish=a;
b.resultSelector=e;b.concurrent=f;b.hasCompleted=!1;b.buffer=[];b.active=0;b.index=0;return b}__extends(a,c);a.prototype._next=function(b){if(this.active<this.concurrent){var a=this.resultSelector,c=this.index++,f=this.ish,h=this.destination;this.active++;this._innerSub(f,h,a,b,c)}else this.buffer.push(b)};a.prototype._innerSub=function(b,a,c,f,h){this.add(q(this,b,f,h))};a.prototype._complete=function(){this.hasCompleted=!0;0===this.active&&0===this.buffer.length&&this.destination.complete()};a.prototype.notifyNext=
function(b,a,c,f,h){h=this.destination;this.resultSelector?this.trySelectResult(b,a,c,f):h.next(a)};a.prototype.trySelectResult=function(b,a,c,f){var d=this.resultSelector,e=this.destination,g;try{g=d(b,a,c,f)}catch(M){e.error(M);return}e.next(g)};a.prototype.notifyError=function(b){this.destination.error(b)};a.prototype.notifyComplete=function(b){var a=this.buffer;this.remove(b);this.active--;0<a.length?this._next(a.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()};return a}(t);
g.prototype.concatMapTo=function(c,a){return this.lift(new Ga(c,a,1))};var Tc=function(){function c(a,b){this.predicate=a;this.source=b}c.prototype.call=function(a,b){return b.subscribe(new Sc(a,this.predicate,this.source))};return c}(),Sc=function(c){function a(b,a,e){b=c.call(this,b)||this;b.predicate=a;b.source=e;b.count=0;b.index=0;return b}__extends(a,c);a.prototype._next=function(b){this.predicate?this._tryPredicate(b):this.count++};a.prototype._tryPredicate=function(b){var a;try{a=this.predicate(b,
this.index++,this.source)}catch(e){this.destination.error(e);return}a&&this.count++};a.prototype._complete=function(){this.destination.next(this.count);this.destination.complete()};return a}(p);g.prototype.count=function(c){return this.lift(new Tc(c,this))};var Vc=function(){function c(){}c.prototype.call=function(a,b){return b.subscribe(new Uc(a))};return c}(),Uc=function(c){function a(b){return c.call(this,b)||this}__extends(a,c);a.prototype._next=function(b){b.observe(this.destination)};return a}(p);
g.prototype.dematerialize=function(){return this.lift(new Vc)};var Xc=function(){function c(a){this.durationSelector=a}c.prototype.call=function(a,b){return b.subscribe(new Wc(a,this.durationSelector))};return c}(),Wc=function(c){function a(b,a){b=c.call(this,b)||this;b.durationSelector=a;b.hasValue=!1;b.durationSubscription=null;return b}__extends(a,c);a.prototype._next=function(b){try{var a=this.durationSelector.call(this,b);a&&this._tryNext(b,a)}catch(e){this.destination.error(e)}};a.prototype._complete=
function(){this.emitValue();this.destination.complete()};a.prototype._tryNext=function(b,a){var c=this.durationSubscription;this.value=b;this.hasValue=!0;c&&(c.unsubscribe(),this.remove(c));c=q(this,a);c.closed||this.add(this.durationSubscription=c)};a.prototype.notifyNext=function(b,a,c,f,h){this.emitValue()};a.prototype.notifyComplete=function(){this.emitValue()};a.prototype.emitValue=function(){if(this.hasValue){var b=this.value,a=this.durationSubscription;a&&(this.durationSubscription=null,a.unsubscribe(),
this.remove(a));this.value=null;this.hasValue=!1;c.prototype._next.call(this,b)}};return a}(t);g.prototype.debounce=function(c){return this.lift(new Xc(c))};var Zc=function(){function c(a,b){this.dueTime=a;this.scheduler=b}c.prototype.call=function(a,b){return b.subscribe(new Yc(a,this.dueTime,this.scheduler))};return c}(),Yc=function(c){function a(b,a,e){b=c.call(this,b)||this;b.dueTime=a;b.scheduler=e;b.debouncedSubscription=null;b.lastValue=null;b.hasValue=!1;return b}__extends(a,c);a.prototype._next=
function(b){this.clearDebounce();this.lastValue=b;this.hasValue=!0;this.add(this.debouncedSubscription=this.scheduler.schedule(Bb,this.dueTime,this))};a.prototype._complete=function(){this.debouncedNext();this.destination.complete()};a.prototype.debouncedNext=function(){this.clearDebounce();this.hasValue&&(this.destination.next(this.lastValue),this.lastValue=null,this.hasValue=!1)};a.prototype.clearDebounce=function(){var b=this.debouncedSubscription;null!==b&&(this.remove(b),b.unsubscribe(),this.debouncedSubscription=
null)};return a}(p);g.prototype.debounceTime=function(c,a){void 0===a&&(a=C);return this.lift(new Zc(c,a))};var ad=function(){function c(a){this.defaultValue=a}c.prototype.call=function(a,b){return b.subscribe(new $c(a,this.defaultValue))};return c}(),$c=function(c){function a(b,a){b=c.call(this,b)||this;b.defaultValue=a;b.isEmpty=!0;return b}__extends(a,c);a.prototype._next=function(b){this.isEmpty=!1;this.destination.next(b)};a.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue);
this.destination.complete()};return a}(p);g.prototype.defaultIfEmpty=function(c){void 0===c&&(c=null);return this.lift(new ad(c))};var cd=function(){function c(a,b){this.delay=a;this.scheduler=b}c.prototype.call=function(a,b){return b.subscribe(new bd(a,this.delay,this.scheduler))};return c}(),bd=function(c){function a(b,a,e){b=c.call(this,b)||this;b.delay=a;b.scheduler=e;b.queue=[];b.active=!1;b.errored=!1;return b}__extends(a,c);a.dispatch=function(b){for(var a=b.source,c=a.queue,f=b.scheduler,
h=b.destination;0<c.length&&0>=c[0].time-f.now();)c.shift().notification.observe(h);0<c.length?(a=Math.max(0,c[0].time-f.now()),this.schedule(b,a)):a.active=!1};a.prototype._schedule=function(b){this.active=!0;this.add(b.schedule(a.dispatch,this.delay,{source:this,destination:this.destination,scheduler:b}))};a.prototype.scheduleNotification=function(b){if(!0!==this.errored){var a=this.scheduler;b=new dd(a.now()+this.delay,b);this.queue.push(b);!1===this.active&&this._schedule(a)}};a.prototype._next=
function(b){this.scheduleNotification(z.createNext(b))};a.prototype._error=function(b){this.errored=!0;this.queue=[];this.destination.error(b)};a.prototype._complete=function(){this.scheduleNotification(z.createComplete())};return a}(p),dd=function(){return function(c,a){this.time=c;this.notification=a}}();g.prototype.delay=function(c,a){void 0===a&&(a=C);c=ba(c)?+c-a.now():Math.abs(c);return this.lift(new cd(c,a))};var bb=function(){function c(a){this.delayDurationSelector=a}c.prototype.call=function(a,
b){return b.subscribe(new ed(a,this.delayDurationSelector))};return c}(),ed=function(c){function a(b,a){b=c.call(this,b)||this;b.delayDurationSelector=a;b.completed=!1;b.delayNotifierSubscriptions=[];b.values=[];return b}__extends(a,c);a.prototype.notifyNext=function(b,a,c,f,h){this.destination.next(b);this.removeSubscription(h);this.tryComplete()};a.prototype.notifyError=function(b,a){this._error(b)};a.prototype.notifyComplete=function(b){(b=this.removeSubscription(b))&&this.destination.next(b);
this.tryComplete()};a.prototype._next=function(b){try{var a=this.delayDurationSelector(b);a&&this.tryDelay(a,b)}catch(e){this.destination.error(e)}};a.prototype._complete=function(){this.completed=!0;this.tryComplete()};a.prototype.removeSubscription=function(b){b.unsubscribe();b=this.delayNotifierSubscriptions.indexOf(b);var a=null;-1!==b&&(a=this.values[b],this.delayNotifierSubscriptions.splice(b,1),this.values.splice(b,1));return a};a.prototype.tryDelay=function(b,a){b=q(this,b,a);this.add(b);
this.delayNotifierSubscriptions.push(b);this.values.push(a)};a.prototype.tryComplete=function(){this.completed&&0===this.delayNotifierSubscriptions.length&&this.destination.complete()};return a}(t),gd=function(c){function a(b,a){var d=c.call(this)||this;d.source=b;d.subscriptionDelay=a;return d}__extends(a,c);a.prototype._subscribe=function(b){this.subscriptionDelay.subscribe(new fd(b,this.source))};return a}(g),fd=function(c){function a(b,a){var d=c.call(this)||this;d.parent=b;d.source=a;d.sourceSubscribed=
!1;return d}__extends(a,c);a.prototype._next=function(b){this.subscribeToSource()};a.prototype._error=function(b){this.unsubscribe();this.parent.error(b)};a.prototype._complete=function(){this.subscribeToSource()};a.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))};return a}(p);g.prototype.delayWhen=function(c,a){return a?(new gd(this,a)).lift(new bb(c)):this.lift(new bb(c))};var hd=r.Set||Cb(),jd=function(){function c(a,
b){this.keySelector=a;this.flushes=b}c.prototype.call=function(a,b){return b.subscribe(new id(a,this.keySelector,this.flushes))};return c}(),id=function(c){function a(b,a,e){b=c.call(this,b)||this;b.keySelector=a;b.values=new hd;e&&b.add(q(b,e));return b}__extends(a,c);a.prototype.notifyNext=function(b,a,c,f,h){this.values.clear()};a.prototype.notifyError=function(b,a){this._error(b)};a.prototype._next=function(b){this.keySelector?this._useKeySelector(b):this._finalizeNext(b,b)};a.prototype._useKeySelector=
function(b){var a,c=this.destination;try{a=this.keySelector(b)}catch(f){c.error(f);return}this._finalizeNext(a,b)};a.prototype._finalizeNext=function(b,a){var c=this.values;c.has(b)||(c.add(b),this.destination.next(a))};return a}(t);g.prototype.distinct=function(c,a){return this.lift(new jd(c,a))};var Db=function(){function c(a,b){this.compare=a;this.keySelector=b}c.prototype.call=function(a,b){return b.subscribe(new kd(a,this.compare,this.keySelector))};return c}(),kd=function(c){function a(b,a,
e){b=c.call(this,b)||this;b.keySelector=e;b.hasKey=!1;"function"===typeof a&&(b.compare=a);return b}__extends(a,c);a.prototype.compare=function(b,a){return b===a};a.prototype._next=function(b){var a=b;if(this.keySelector&&(a=k(this.keySelector)(b),a===n))return this.destination.error(n.e);var c=!1;if(this.hasKey){if(c=k(this.compare)(this.key,a),c===n)return this.destination.error(n.e)}else this.hasKey=!0;!1===!!c&&(this.key=a,this.destination.next(b))};return a}(p);g.prototype.distinctUntilChanged=
Ha;g.prototype.distinctUntilKeyChanged=function(c,a){return Ha.call(this,function(b,d){return a?a(b[c],d[c]):b[c]===d[c]})};var Eb=function(){function c(a,b,c){this.nextOrObserver=a;this.error=b;this.complete=c}c.prototype.call=function(a,b){return b.subscribe(new ld(a,this.nextOrObserver,this.error,this.complete))};return c}(),ld=function(c){function a(b,a,e,f){b=c.call(this,b)||this;a=new p(a,e,f);a.syncErrorThrowable=!0;b.add(a);b.safeSubscriber=a;return b}__extends(a,c);a.prototype._next=function(b){var a=
this.safeSubscriber;a.next(b);a.syncErrorThrown?this.destination.error(a.syncErrorValue):this.destination.next(b)};a.prototype._error=function(b){var a=this.safeSubscriber;a.error(b);a.syncErrorThrown?this.destination.error(a.syncErrorValue):this.destination.error(b)};a.prototype._complete=function(){var b=this.safeSubscriber;b.complete();b.syncErrorThrown?this.destination.error(b.syncErrorValue):this.destination.complete()};return a}(p);g.prototype.do=Ia;g.prototype._do=Ia;var nd=function(){function c(){}
c.prototype.call=function(a,b){return b.subscribe(new md(a))};return c}(),md=function(c){function a(b){b=c.call(this,b)||this;b.hasCompleted=!1;b.hasSubscription=!1;return b}__extends(a,c);a.prototype._next=function(b){this.hasSubscription||(this.hasSubscription=!0,this.add(q(this,b)))};a.prototype._complete=function(){this.hasCompleted=!0;this.hasSubscription||this.destination.complete()};a.prototype.notifyComplete=function(b){this.remove(b);this.hasSubscription=!1;this.hasCompleted&&this.destination.complete()};
return a}(t);g.prototype.exhaust=function(){return this.lift(new nd)};var pd=function(){function c(a,b){this.project=a;this.resultSelector=b}c.prototype.call=function(a,b){return b.subscribe(new od(a,this.project,this.resultSelector))};return c}(),od=function(c){function a(b,a,e){b=c.call(this,b)||this;b.project=a;b.resultSelector=e;b.hasSubscription=!1;b.hasCompleted=!1;b.index=0;return b}__extends(a,c);a.prototype._next=function(b){this.hasSubscription||this.tryNext(b)};a.prototype.tryNext=function(b){var a=
this.index++,c=this.destination;try{var f=this.project(b,a);this.hasSubscription=!0;this.add(q(this,f,b,a))}catch(h){c.error(h)}};a.prototype._complete=function(){this.hasCompleted=!0;this.hasSubscription||this.destination.complete()};a.prototype.notifyNext=function(b,a,c,f,h){h=this.destination;this.resultSelector?this.trySelectResult(b,a,c,f):h.next(a)};a.prototype.trySelectResult=function(b,a,c,f){var d=this.resultSelector,e=this.destination;try{var g=d(b,a,c,f);e.next(g)}catch(M){e.error(M)}};
a.prototype.notifyError=function(b){this.destination.error(b)};a.prototype.notifyComplete=function(b){this.remove(b);this.hasSubscription=!1;this.hasCompleted&&this.destination.complete()};return a}(t);g.prototype.exhaustMap=function(c,a){return this.lift(new pd(c,a))};var rd=function(){function c(a,b,c){this.project=a;this.concurrent=b;this.scheduler=c}c.prototype.call=function(a,b){return b.subscribe(new qd(a,this.project,this.concurrent,this.scheduler))};return c}(),qd=function(c){function a(b,
a,e,f){b=c.call(this,b)||this;b.project=a;b.concurrent=e;b.scheduler=f;b.index=0;b.active=0;b.hasCompleted=!1;e<Number.POSITIVE_INFINITY&&(b.buffer=[]);return b}__extends(a,c);a.dispatch=function(b){b.subscriber.subscribeToProjection(b.result,b.value,b.index)};a.prototype._next=function(b){var c=this.destination;if(c.closed)this._complete();else{var e=this.index++;if(this.active<this.concurrent){c.next(b);var f=k(this.project)(b,e);f===n?c.error(n.e):this.scheduler?this.add(this.scheduler.schedule(a.dispatch,
0,{subscriber:this,result:f,value:b,index:e})):this.subscribeToProjection(f,b,e)}else this.buffer.push(b)}};a.prototype.subscribeToProjection=function(b,a,c){this.active++;this.add(q(this,b,a,c))};a.prototype._complete=function(){(this.hasCompleted=!0,0===this.active)&&this.destination.complete()};a.prototype.notifyNext=function(b,a,c,f,h){this._next(a)};a.prototype.notifyComplete=function(b){var a=this.buffer;this.remove(b);this.active--;a&&0<a.length&&this._next(a.shift());this.hasCompleted&&0===
this.active&&this.destination.complete()};return a}(t);g.prototype.expand=function(c,a,b){void 0===a&&(a=Number.POSITIVE_INFINITY);void 0===b&&(b=void 0);a=1>(a||0)?Number.POSITIVE_INFINITY:a;return this.lift(new rd(c,a,b))};var W=function(c){function a(){var b,a=b=c.call(this,"argument out of range")||this;b.name=a.name="ArgumentOutOfRangeError";b.stack=a.stack;b.message=a.message;return b}__extends(a,c);return a}(Error),td=function(){function c(a,b){this.index=a;this.defaultValue=b;if(0>a)throw new W;
}c.prototype.call=function(a,b){return b.subscribe(new sd(a,this.index,this.defaultValue))};return c}(),sd=function(c){function a(b,a,e){b=c.call(this,b)||this;b.index=a;b.defaultValue=e;return b}__extends(a,c);a.prototype._next=function(b){0===this.index--&&(this.destination.next(b),this.destination.complete())};a.prototype._complete=function(){var b=this.destination;0<=this.index&&("undefined"!==typeof this.defaultValue?b.next(this.defaultValue):b.error(new W));b.complete()};return a}(p);g.prototype.elementAt=
function(c,a){return this.lift(new td(c,a))};var Fb=function(){function c(a,b){this.predicate=a;this.thisArg=b}c.prototype.call=function(a,b){return b.subscribe(new ud(a,this.predicate,this.thisArg))};return c}(),ud=function(c){function a(b,a,e){b=c.call(this,b)||this;b.predicate=a;b.thisArg=e;b.count=0;b.predicate=a;return b}__extends(a,c);a.prototype._next=function(b){var a;try{a=this.predicate.call(this.thisArg,b,this.count++)}catch(e){this.destination.error(e);return}a&&this.destination.next(b)};
return a}(p);g.prototype.filter=ha;var Gb=function(){function c(a){this.callback=a}c.prototype.call=function(a,b){return b.subscribe(new vd(a,this.callback))};return c}(),vd=function(c){function a(b,a){b=c.call(this,b)||this;b.add(new x(a));return b}__extends(a,c);return a}(p);g.prototype.finally=Ja;g.prototype._finally=Ja;var cb=function(){function c(a,b,c,e){this.predicate=a;this.source=b;this.yieldIndex=c;this.thisArg=e}c.prototype.call=function(a,b){return b.subscribe(new wd(a,this.predicate,
this.source,this.yieldIndex,this.thisArg))};return c}(),wd=function(c){function a(b,a,e,f,h){b=c.call(this,b)||this;b.predicate=a;b.source=e;b.yieldIndex=f;b.thisArg=h;b.index=0;return b}__extends(a,c);a.prototype.notifyComplete=function(b){var a=this.destination;a.next(b);a.complete()};a.prototype._next=function(b){var a=this.predicate,c=this.thisArg,f=this.index++;try{a.call(c||this,b,f,this.source)&&this.notifyComplete(this.yieldIndex?f:b)}catch(h){this.destination.error(h)}};a.prototype._complete=
function(){this.notifyComplete(this.yieldIndex?-1:void 0)};return a}(p);g.prototype.find=function(c,a){if("function"!==typeof c)throw new TypeError("predicate is not a function");return this.lift(new cb(c,this,!1,a))};g.prototype.findIndex=function(c,a){return this.lift(new cb(c,this,!0,a))};var ea=function(c){function a(){var b,a=b=c.call(this,"no elements in sequence")||this;b.name=a.name="EmptyError";b.stack=a.stack;b.message=a.message;return b}__extends(a,c);return a}(Error),yd=function(){function c(a,
b,c,e){this.predicate=a;this.resultSelector=b;this.defaultValue=c;this.source=e}c.prototype.call=function(a,b){return b.subscribe(new xd(a,this.predicate,this.resultSelector,this.defaultValue,this.source))};return c}(),xd=function(c){function a(b,a,e,f,h){b=c.call(this,b)||this;b.predicate=a;b.resultSelector=e;b.defaultValue=f;b.source=h;b.index=0;b.hasCompleted=!1;b._emitted=!1;return b}__extends(a,c);a.prototype._next=function(b){var a=this.index++;this.predicate?this._tryPredicate(b,a):this._emit(b,
a)};a.prototype._tryPredicate=function(b,a){var c;try{c=this.predicate(b,a,this.source)}catch(f){this.destination.error(f);return}c&&this._emit(b,a)};a.prototype._emit=function(b,a){this.resultSelector?this._tryResultSelector(b,a):this._emitFinal(b)};a.prototype._tryResultSelector=function(b,a){var c;try{c=this.resultSelector(b,a)}catch(f){this.destination.error(f);return}this._emitFinal(c)};a.prototype._emitFinal=function(b){var a=this.destination;this._emitted||(this._emitted=!0,a.next(b),a.complete(),
this.hasCompleted=!0)};a.prototype._complete=function(){var b=this.destination;this.hasCompleted||"undefined"===typeof this.defaultValue?this.hasCompleted||b.error(new ea):(b.next(this.defaultValue),b.complete())};return a}(p);g.prototype.first=function(c,a,b){return this.lift(new yd(c,a,b,this))};var zd=function(){function c(){this.size=0;this._values=[];this._keys=[]}c.prototype.get=function(a){a=this._keys.indexOf(a);return-1===a?void 0:this._values[a]};c.prototype.set=function(a,b){var c=this._keys.indexOf(a);
-1===c?(this._keys.push(a),this._values.push(b),this.size++):this._values[c]=b;return this};c.prototype.delete=function(a){a=this._keys.indexOf(a);if(-1===a)return!1;this._values.splice(a,1);this._keys.splice(a,1);this.size--;return!0};c.prototype.clear=function(){this._keys.length=0;this.size=this._values.length=0};c.prototype.forEach=function(a,b){for(var c=0;c<this.size;c++)a.call(b,this._values[c],this._keys[c])};return c}(),Ad=r.Map||zd,Bd=function(){function c(){this.values={}}c.prototype.delete=
function(a){this.values[a]=null;return!0};c.prototype.set=function(a,b){this.values[a]=b;return this};c.prototype.get=function(a){return this.values[a]};c.prototype.forEach=function(a,b){var c=this.values,e;for(e in c)c.hasOwnProperty(e)&&null!==c[e]&&a.call(b,c[e],e)};c.prototype.clear=function(){this.values={}};return c}(),Dd=function(){function c(a,b,c,e){this.keySelector=a;this.elementSelector=b;this.durationSelector=c;this.subjectSelector=e}c.prototype.call=function(a,b){return b.subscribe(new Cd(a,
this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))};return c}(),Cd=function(c){function a(b,a,e,f,h){b=c.call(this,b)||this;b.keySelector=a;b.elementSelector=e;b.durationSelector=f;b.subjectSelector=h;b.groups=null;b.attemptedToUnsubscribe=!1;b.count=0;return b}__extends(a,c);a.prototype._next=function(b){var a;try{a=this.keySelector(b)}catch(e){this.error(e);return}this._group(b,a)};a.prototype._group=function(b,a){var c=this.groups;c||(c=this.groups="string"===typeof a?
new Bd:new Ad);var d=c.get(a),h;if(this.elementSelector)try{h=this.elementSelector(b)}catch(D){this.error(D)}else h=b;if(!d&&(d=this.subjectSelector?this.subjectSelector():new y,c.set(a,d),b=new db(a,d,this),this.destination.next(b),this.durationSelector)){b=void 0;try{b=this.durationSelector(new db(a,d))}catch(D){this.error(D);return}this.add(b.subscribe(new Ed(a,d,this)))}d.closed||d.next(h)};a.prototype._error=function(b){var a=this.groups;a&&(a.forEach(function(a,c){a.error(b)}),a.clear());this.destination.error(b)};
a.prototype._complete=function(){var b=this.groups;b&&(b.forEach(function(b,a){b.complete()}),b.clear());this.destination.complete()};a.prototype.removeGroup=function(b){this.groups.delete(b)};a.prototype.unsubscribe=function(){this.closed||this.attemptedToUnsubscribe||(this.attemptedToUnsubscribe=!0,0===this.count&&c.prototype.unsubscribe.call(this))};return a}(p),Ed=function(c){function a(b,a,e){var d=c.call(this)||this;d.key=b;d.group=a;d.parent=e;return d}__extends(a,c);a.prototype._next=function(b){this._complete()};
a.prototype._error=function(b){var a=this.group;a.closed||a.error(b);this.parent.removeGroup(this.key)};a.prototype._complete=function(){var b=this.group;b.closed||b.complete();this.parent.removeGroup(this.key)};return a}(p),db=function(c){function a(b,a,e){var d=c.call(this)||this;d.key=b;d.groupSubject=a;d.refCountSubscription=e;return d}__extends(a,c);a.prototype._subscribe=function(b){var a=new x,c=this.refCountSubscription,f=this.groupSubject;c&&!c.closed&&a.add(new Fd(c));a.add(f.subscribe(b));
return a};return a}(g),Fd=function(c){function a(b){var a=c.call(this)||this;a.parent=b;b.count++;return a}__extends(a,c);a.prototype.unsubscribe=function(){var b=this.parent;b.closed||this.closed||(c.prototype.unsubscribe.call(this),--b.count,0===b.count&&b.attemptedToUnsubscribe&&b.unsubscribe())};return a}(x);g.prototype.groupBy=function(c,a,b,d){return this.lift(new Dd(c,a,b,d))};var Hd=function(){function c(){}c.prototype.call=function(a,b){return b.subscribe(new Gd(a))};return c}(),Gd=function(c){function a(){return c.apply(this,
arguments)||this}__extends(a,c);a.prototype._next=function(b){};return a}(p);g.prototype.ignoreElements=function(){return this.lift(new Hd)};var Jd=function(){function c(){}c.prototype.call=function(a,b){return b.subscribe(new Id(a))};return c}(),Id=function(c){function a(b){return c.call(this,b)||this}__extends(a,c);a.prototype.notifyComplete=function(b){var a=this.destination;a.next(b);a.complete()};a.prototype._next=function(b){this.notifyComplete(!1)};a.prototype._complete=function(){this.notifyComplete(!0)};
return a}(p);g.prototype.isEmpty=function(){return this.lift(new Jd)};var Ld=function(){function c(a){this.durationSelector=a}c.prototype.call=function(a,b){return b.subscribe(new Kd(a,this.durationSelector))};return c}(),Kd=function(c){function a(b,a){b=c.call(this,b)||this;b.durationSelector=a;b.hasValue=!1;return b}__extends(a,c);a.prototype._next=function(b){this.value=b;this.hasValue=!0;this.throttled||(b=k(this.durationSelector)(b),b===n?this.destination.error(n.e):this.add(this.throttled=q(this,
b)))};a.prototype.clearThrottle=function(){var b=this.value,a=this.hasValue,c=this.throttled;c&&(this.remove(c),this.throttled=null,c.unsubscribe());a&&(this.value=null,this.hasValue=!1,this.destination.next(b))};a.prototype.notifyNext=function(b,a,c,f){this.clearThrottle()};a.prototype.notifyComplete=function(){this.clearThrottle()};return a}(t);g.prototype.audit=function(c){return this.lift(new Ld(c))};var Nd=function(){function c(a,b){this.duration=a;this.scheduler=b}c.prototype.call=function(a,
b){return b.subscribe(new Md(a,this.duration,this.scheduler))};return c}(),Md=function(c){function a(b,a,e){b=c.call(this,b)||this;b.duration=a;b.scheduler=e;b.hasValue=!1;return b}__extends(a,c);a.prototype._next=function(b){this.value=b;this.hasValue=!0;this.throttled||this.add(this.throttled=this.scheduler.schedule(Hb,this.duration,this))};a.prototype.clearThrottle=function(){var b=this.value,a=this.hasValue,c=this.throttled;c&&(this.remove(c),this.throttled=null,c.unsubscribe());a&&(this.value=
null,this.hasValue=!1,this.destination.next(b))};return a}(p);g.prototype.auditTime=function(c,a){void 0===a&&(a=C);return this.lift(new Nd(c,a))};var Pd=function(){function c(a,b,c,e){this.predicate=a;this.resultSelector=b;this.defaultValue=c;this.source=e}c.prototype.call=function(a,b){return b.subscribe(new Od(a,this.predicate,this.resultSelector,this.defaultValue,this.source))};return c}(),Od=function(c){function a(b,a,e,f,h){b=c.call(this,b)||this;b.predicate=a;b.resultSelector=e;b.defaultValue=
f;b.source=h;b.hasValue=!1;b.index=0;"undefined"!==typeof f&&(b.lastValue=f,b.hasValue=!0);return b}__extends(a,c);a.prototype._next=function(b){var a=this.index++;this.predicate?this._tryPredicate(b,a):this.resultSelector?this._tryResultSelector(b,a):(this.lastValue=b,this.hasValue=!0)};a.prototype._tryPredicate=function(b,a){var c;try{c=this.predicate(b,a,this.source)}catch(f){this.destination.error(f);return}c&&(this.resultSelector?this._tryResultSelector(b,a):(this.lastValue=b,this.hasValue=!0))};
a.prototype._tryResultSelector=function(b,a){var c;try{c=this.resultSelector(b,a)}catch(f){this.destination.error(f);return}this.lastValue=c;this.hasValue=!0};a.prototype._complete=function(){var b=this.destination;this.hasValue?(b.next(this.lastValue),b.complete()):b.error(new ea)};return a}(p);g.prototype.last=function(c,a,b){return this.lift(new Pd(c,a,b,this))};g.prototype.let=Ka;g.prototype.letBind=Ka;var Rd=function(){function c(a,b,c){this.predicate=a;this.thisArg=b;this.source=c}c.prototype.call=
function(a,b){return b.subscribe(new Qd(a,this.predicate,this.thisArg,this.source))};return c}(),Qd=function(c){function a(b,a,e,f){b=c.call(this,b)||this;b.predicate=a;b.thisArg=e;b.source=f;b.index=0;b.thisArg=e||b;return b}__extends(a,c);a.prototype.notifyComplete=function(b){this.destination.next(b);this.destination.complete()};a.prototype._next=function(b){var a=!1;try{a=this.predicate.call(this.thisArg,b,this.index++,this.source)}catch(e){this.destination.error(e);return}a||this.notifyComplete(!1)};
a.prototype._complete=function(){this.notifyComplete(!0)};return a}(p);g.prototype.every=function(c,a){return this.lift(new Rd(c,a,this))};g.prototype.map=ya;var Td=function(){function c(a){this.value=a}c.prototype.call=function(a,b){return b.subscribe(new Sd(a,this.value))};return c}(),Sd=function(c){function a(b,a){b=c.call(this,b)||this;b.value=a;return b}__extends(a,c);a.prototype._next=function(b){this.destination.next(this.value)};return a}(p);g.prototype.mapTo=function(c){return this.lift(new Td(c))};
var Vd=function(){function c(){}c.prototype.call=function(a,b){return b.subscribe(new Ud(a))};return c}(),Ud=function(c){function a(b){return c.call(this,b)||this}__extends(a,c);a.prototype._next=function(b){this.destination.next(z.createNext(b))};a.prototype._error=function(b){var a=this.destination;a.next(z.createError(b));a.complete()};a.prototype._complete=function(){var b=this.destination;b.next(z.createComplete());b.complete()};return a}(p);g.prototype.materialize=function(){return this.lift(new Vd)};
var oa=function(){function c(a,b,c){void 0===c&&(c=!1);this.accumulator=a;this.seed=b;this.hasSeed=c}c.prototype.call=function(a,b){return b.subscribe(new Wd(a,this.accumulator,this.seed,this.hasSeed))};return c}(),Wd=function(c){function a(b,a,e,f){b=c.call(this,b)||this;b.accumulator=a;b.hasSeed=f;b.hasValue=!1;b.acc=e;return b}__extends(a,c);a.prototype._next=function(b){this.hasValue||(this.hasValue=this.hasSeed)?this._tryReduce(b):(this.acc=b,this.hasValue=!0)};a.prototype._tryReduce=function(b){var a;
try{a=this.accumulator(this.acc,b)}catch(e){this.destination.error(e);return}this.acc=a};a.prototype._complete=function(){(this.hasValue||this.hasSeed)&&this.destination.next(this.acc);this.destination.complete()};return a}(p);g.prototype.max=function(c){return this.lift(new oa("function"===typeof c?function(a,b){return 0<c(a,b)?a:b}:function(a,b){return a>b?a:b}))};g.prototype.merge=function(){for(var c=[],a=0;a<arguments.length;a++)c[a]=arguments[a];return this.lift.call(ua.apply(void 0,[this].concat(c)))};
g.prototype.mergeAll=function(c){void 0===c&&(c=Number.POSITIVE_INFINITY);return this.lift(new aa(c))};g.prototype.mergeMap=Da;g.prototype.flatMap=Da;g.prototype.flatMapTo=Fa;g.prototype.mergeMapTo=Fa;var Yd=function(){function c(a,b,c){this.project=a;this.seed=b;this.concurrent=c}c.prototype.call=function(a,b){return b.subscribe(new Xd(a,this.project,this.seed,this.concurrent))};return c}(),Xd=function(c){function a(b,a,e,f){b=c.call(this,b)||this;b.project=a;b.acc=e;b.concurrent=f;b.hasValue=!1;
b.hasCompleted=!1;b.buffer=[];b.active=0;b.index=0;return b}__extends(a,c);a.prototype._next=function(b){if(this.active<this.concurrent){var a=this.index++,c=k(this.project)(this.acc,b),f=this.destination;c===n?f.error(n.e):(this.active++,this._innerSub(c,b,a))}else this.buffer.push(b)};a.prototype._innerSub=function(b,a,c){this.add(q(this,b,a,c))};a.prototype._complete=function(){this.hasCompleted=!0;0===this.active&&0===this.buffer.length&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete())};
a.prototype.notifyNext=function(b,a,c,f,h){b=this.destination;this.acc=a;this.hasValue=!0;b.next(a)};a.prototype.notifyComplete=function(b){var a=this.buffer;this.remove(b);this.active--;0<a.length?this._next(a.shift()):0===this.active&&this.hasCompleted&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete())};return a}(t);g.prototype.mergeScan=function(c,a,b){void 0===b&&(b=Number.POSITIVE_INFINITY);return this.lift(new Yd(c,a,b))};g.prototype.min=function(c){return this.lift(new oa("function"===
typeof c?function(a,b){return 0>c(a,b)?a:b}:function(a,b){return a<b?a:b}))};var X=function(c){function a(b,a){var d=c.call(this)||this;d.source=b;d.subjectFactory=a;d._refCount=0;return d}__extends(a,c);a.prototype._subscribe=function(b){return this.getSubject().subscribe(b)};a.prototype.getSubject=function(){var b=this._subject;if(!b||b.isStopped)this._subject=this.subjectFactory();return this._subject};a.prototype.connect=function(){var b=this._connection;b||(b=this._connection=new x,b.add(this.source.subscribe(new Zd(this.getSubject(),
this))),b.closed?(this._connection=null,b=x.EMPTY):this._connection=b);return b};a.prototype.refCount=function(){return this.lift(new $d(this))};return a}(g),Jb={operator:{value:null},_refCount:{value:0,writable:!0},_subscribe:{value:X.prototype._subscribe},getSubject:{value:X.prototype.getSubject},connect:{value:X.prototype.connect},refCount:{value:X.prototype.refCount}},Zd=function(c){function a(b,a){b=c.call(this,b)||this;b.connectable=a;return b}__extends(a,c);a.prototype._error=function(b){this._unsubscribe();
c.prototype._error.call(this,b)};a.prototype._complete=function(){this._unsubscribe();c.prototype._complete.call(this)};a.prototype._unsubscribe=function(){var b=this.connectable;if(b){this.connectable=null;var a=b._connection;b._refCount=0;b._subject=null;b._connection=null;a&&a.unsubscribe()}};return a}(Qa),$d=function(){function c(a){this.connectable=a}c.prototype.call=function(a,b){var c=this.connectable;c._refCount++;a=new ae(a,c);b=b.subscribe(a);a.closed||(a.connection=c.connect());return b};
return c}(),ae=function(c){function a(b,a){b=c.call(this,b)||this;b.connectable=a;return b}__extends(a,c);a.prototype._unsubscribe=function(){var b=this.connectable;if(b){this.connectable=null;var a=b._refCount;0>=a?this.connection=null:(b._refCount=a-1,1<a?this.connection=null:(a=this.connection,b=b._connection,this.connection=null,!b||a&&b!==a||b.unsubscribe()))}else this.connection=null};return a}(p),Ib=function(){function c(a,b){this.subjectFactory=a;this.selector=b}c.prototype.call=function(a,
b){var c=this.selector,e=this.subjectFactory();a=c(e).subscribe(a);a.add(b.subscribe(e));return a};return c}();g.prototype.multicast=O;g.prototype.observeOn=function(c,a){void 0===a&&(a=0);return this.lift(new dc(c,a))};g.prototype.onErrorResumeNext=function(){for(var c=[],a=0;a<arguments.length;a++)c[a]=arguments[a];1===c.length&&H(c[0])&&(c=c[0]);return this.lift(new Ya(c))};var ce=function(){function c(){}c.prototype.call=function(a,b){return b.subscribe(new be(a))};return c}(),be=function(c){function a(b){b=
c.call(this,b)||this;b.hasPrev=!1;return b}__extends(a,c);a.prototype._next=function(b){this.hasPrev?this.destination.next([this.prev,b]):this.hasPrev=!0;this.prev=b};return a}(p);g.prototype.pairwise=function(){return this.lift(new ce)};g.prototype.partition=function(c,a){return[ha.call(this,c,a),ha.call(this,Kb(c,a))]};g.prototype.pluck=function(){for(var c=[],a=0;a<arguments.length;a++)c[a]=arguments[a];a=c.length;if(0===a)throw Error("list of properties cannot be empty.");return ya.call(this,
Lb(c,a))};g.prototype.publish=function(c){return c?O.call(this,function(){return new y},c):O.call(this,new y)};var eb=function(c){function a(b){var a=c.call(this)||this;a._value=b;return a}__extends(a,c);Object.defineProperty(a.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0});a.prototype._subscribe=function(b){var a=c.prototype._subscribe.call(this,b);a&&!a.closed&&b.next(this._value);return a};a.prototype.getValue=function(){if(this.hasError)throw this.thrownError;
if(this.closed)throw new P;return this._value};a.prototype.next=function(b){c.prototype.next.call(this,this._value=b)};return a}(y);g.prototype.publishBehavior=function(c){return O.call(this,new eb(c))};g.prototype.publishReplay=function(c,a,b){void 0===c&&(c=Number.POSITIVE_INFINITY);void 0===a&&(a=Number.POSITIVE_INFINITY);return O.call(this,new R(c,a,b))};g.prototype.publishLast=function(){return O.call(this,new Q)};g.prototype.race=function(){for(var c=[],a=0;a<arguments.length;a++)c[a]=arguments[a];
1===c.length&&H(c[0])&&(c=c[0]);return this.lift.call(va.apply(void 0,[this].concat(c)))};g.prototype.reduce=function(c,a){var b=!1;2<=arguments.length&&(b=!0);return this.lift(new oa(c,a,b))};var fb=function(){function c(a,b){this.count=a;this.source=b}c.prototype.call=function(a,b){return b.subscribe(new de(a,this.count,this.source))};return c}(),de=function(c){function a(b,a,e){b=c.call(this,b)||this;b.count=a;b.source=e;return b}__extends(a,c);a.prototype.complete=function(){if(!this.isStopped){var b=
this.source,a=this.count;if(0===a)return c.prototype.complete.call(this);-1<a&&(this.count=a-1);this.unsubscribe();this.closed=this.isStopped=!1;b.subscribe(this)}};return a}(p);g.prototype.repeat=function(c){void 0===c&&(c=-1);return 0===c?new K:0>c?this.lift(new fb(-1,this)):this.lift(new fb(c-1,this))};var fe=function(){function c(a,b){this.notifier=a;this.source=b}c.prototype.call=function(a,b){return b.subscribe(new ee(a,this.notifier,this.source))};return c}(),ee=function(c){function a(b,a,
e){b=c.call(this,b)||this;b.notifier=a;b.source=e;return b}__extends(a,c);a.prototype.complete=function(){if(!this.isStopped){var b=this.notifications,a=this.retries,e=this.retriesSubscription;if(a)this.retriesSubscription=this.notifications=null;else{b=new y;a=k(this.notifier)(b);if(a===n)return c.prototype.complete.call(this);e=q(this,a)}this.unsubscribe();this.closed=!1;this.notifications=b;this.retries=a;this.retriesSubscription=e;b.next()}};a.prototype._unsubscribe=function(){var b=this.notifications,
a=this.retriesSubscription;b&&(b.unsubscribe(),this.notifications=null);a&&(a.unsubscribe(),this.retriesSubscription=null);this.retries=null};a.prototype.notifyNext=function(b,a,c,f,h){b=this.notifications;a=this.retries;c=this.retriesSubscription;this.retriesSubscription=this.retries=this.notifications=null;this.unsubscribe();this.closed=this.isStopped=!1;this.notifications=b;this.retries=a;this.retriesSubscription=c;this.source.subscribe(this)};return a}(t);g.prototype.repeatWhen=function(c){return this.lift(new fe(c,
this))};var he=function(){function c(a,b){this.count=a;this.source=b}c.prototype.call=function(a,b){return b.subscribe(new ge(a,this.count,this.source))};return c}(),ge=function(c){function a(b,a,e){b=c.call(this,b)||this;b.count=a;b.source=e;return b}__extends(a,c);a.prototype.error=function(b){if(!this.isStopped){var a=this.source,e=this.count;if(0===e)return c.prototype.error.call(this,b);-1<e&&(this.count=e-1);this.unsubscribe();this.closed=this.isStopped=!1;a.subscribe(this)}};return a}(p);g.prototype.retry=
function(c){void 0===c&&(c=-1);return this.lift(new he(c,this))};var je=function(){function c(a,b){this.notifier=a;this.source=b}c.prototype.call=function(a,b){return b.subscribe(new ie(a,this.notifier,this.source))};return c}(),ie=function(c){function a(b,a,e){b=c.call(this,b)||this;b.notifier=a;b.source=e;return b}__extends(a,c);a.prototype.error=function(b){if(!this.isStopped){var a=this.errors,e=this.retries,f=this.retriesSubscription;if(e)this.retriesSubscription=this.errors=null;else{a=new y;
e=k(this.notifier)(a);if(e===n)return c.prototype.error.call(this,n.e);f=q(this,e)}this.unsubscribe();this.closed=!1;this.errors=a;this.retries=e;this.retriesSubscription=f;a.next(b)}};a.prototype._unsubscribe=function(){var b=this.errors,a=this.retriesSubscription;b&&(b.unsubscribe(),this.errors=null);a&&(a.unsubscribe(),this.retriesSubscription=null);this.retries=null};a.prototype.notifyNext=function(b,a,c,f,h){b=this.errors;a=this.retries;c=this.retriesSubscription;this.retriesSubscription=this.retries=
this.errors=null;this.unsubscribe();this.closed=this.isStopped=!1;this.errors=b;this.retries=a;this.retriesSubscription=c;this.source.subscribe(this)};return a}(t);g.prototype.retryWhen=function(c){return this.lift(new je(c,this))};var le=function(){function c(a){this.notifier=a}c.prototype.call=function(a,b){a=new ke(a);b=b.subscribe(a);b.add(q(a,this.notifier));return b};return c}(),ke=function(c){function a(){var b=c.apply(this,arguments)||this;b.hasValue=!1;return b}__extends(a,c);a.prototype._next=
function(b){this.value=b;this.hasValue=!0};a.prototype.notifyNext=function(b,a,c,f,h){this.emitValue()};a.prototype.notifyComplete=function(){this.emitValue()};a.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))};return a}(t);g.prototype.sample=function(c){return this.lift(new le(c))};var ne=function(){function c(a,b){this.period=a;this.scheduler=b}c.prototype.call=function(a,b){return b.subscribe(new me(a,this.period,this.scheduler))};return c}(),
me=function(c){function a(b,a,e){b=c.call(this,b)||this;b.period=a;b.scheduler=e;b.hasValue=!1;b.add(e.schedule(Mb,a,{subscriber:b,period:a}));return b}__extends(a,c);a.prototype._next=function(b){this.lastValue=b;this.hasValue=!0};a.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))};return a}(p);g.prototype.sampleTime=function(c,a){void 0===a&&(a=C);return this.lift(new ne(c,a))};var pe=function(){function c(a,b,c){void 0===c&&(c=!1);this.accumulator=
a;this.seed=b;this.hasSeed=c}c.prototype.call=function(a,b){return b.subscribe(new oe(a,this.accumulator,this.seed,this.hasSeed))};return c}(),oe=function(c){function a(b,a,e,f){b=c.call(this,b)||this;b.accumulator=a;b._seed=e;b.hasSeed=f;b.index=0;return b}__extends(a,c);Object.defineProperty(a.prototype,"seed",{get:function(){return this._seed},set:function(b){this.hasSeed=!0;this._seed=b},enumerable:!0,configurable:!0});a.prototype._next=function(b){if(this.hasSeed)return this._tryNext(b);this.seed=
b;this.destination.next(b)};a.prototype._tryNext=function(b){var a=this.index++,c;try{c=this.accumulator(this.seed,b,a)}catch(f){this.destination.error(f)}this.seed=c;this.destination.next(c)};return a}(p);g.prototype.scan=function(c,a){var b=!1;2<=arguments.length&&(b=!0);return this.lift(new pe(c,a,b))};var re=function(){function c(a,b){this.compareTo=a;this.comparor=b}c.prototype.call=function(a,b){return b.subscribe(new qe(a,this.compareTo,this.comparor))};return c}(),qe=function(c){function a(b,
a,e){var d=c.call(this,b)||this;d.compareTo=a;d.comparor=e;d._a=[];d._b=[];d._oneComplete=!1;d.add(a.subscribe(new se(b,d)));return d}__extends(a,c);a.prototype._next=function(b){this._oneComplete&&0===this._b.length?this.emit(!1):(this._a.push(b),this.checkValues())};a.prototype._complete=function(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0};a.prototype.checkValues=function(){for(var b=this._a,a=this._b,c=this.comparor;0<b.length&&0<a.length;){var f=
b.shift(),h=a.shift();c?(f=k(c)(f,h),f===n&&this.destination.error(n.e)):f=f===h;f||this.emit(!1)}};a.prototype.emit=function(b){var a=this.destination;a.next(b);a.complete()};a.prototype.nextB=function(b){this._oneComplete&&0===this._a.length?this.emit(!1):(this._b.push(b),this.checkValues())};return a}(p),se=function(c){function a(b,a){b=c.call(this,b)||this;b.parent=a;return b}__extends(a,c);a.prototype._next=function(b){this.parent.nextB(b)};a.prototype._error=function(b){this.parent.error(b)};
a.prototype._complete=function(){this.parent._complete()};return a}(p);g.prototype.sequenceEqual=function(c,a){return this.lift(new re(c,a))};g.prototype.share=function(){return O.call(this,Nb).refCount()};var ue=function(){function c(a,b){this.predicate=a;this.source=b}c.prototype.call=function(a,b){return b.subscribe(new te(a,this.predicate,this.source))};return c}(),te=function(c){function a(b,a,e){b=c.call(this,b)||this;b.predicate=a;b.source=e;b.seenValue=!1;b.index=0;return b}__extends(a,c);
a.prototype.applySingleValue=function(b){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=b)};a.prototype._next=function(b){var a=this.predicate;this.index++;a?this.tryNext(b):this.applySingleValue(b)};a.prototype.tryNext=function(b){try{this.predicate(b,this.index,this.source)&&this.applySingleValue(b)}catch(d){this.destination.error(d)}};a.prototype._complete=function(){var b=this.destination;0<this.index?(b.next(this.seenValue?
this.singleValue:void 0),b.complete()):b.error(new ea)};return a}(p);g.prototype.single=function(c){return this.lift(new ue(c,this))};var we=function(){function c(a){this.total=a}c.prototype.call=function(a,b){return b.subscribe(new ve(a,this.total))};return c}(),ve=function(c){function a(b,a){b=c.call(this,b)||this;b.total=a;b.count=0;return b}__extends(a,c);a.prototype._next=function(b){++this.count>this.total&&this.destination.next(b)};return a}(p);g.prototype.skip=function(c){return this.lift(new we(c))};
var ye=function(){function c(a){this.notifier=a}c.prototype.call=function(a,b){return b.subscribe(new xe(a,this.notifier))};return c}(),xe=function(c){function a(b,a){b=c.call(this,b)||this;b.hasValue=!1;b.isInnerStopped=!1;b.add(q(b,a));return b}__extends(a,c);a.prototype._next=function(b){this.hasValue&&c.prototype._next.call(this,b)};a.prototype._complete=function(){this.isInnerStopped?c.prototype._complete.call(this):this.unsubscribe()};a.prototype.notifyNext=function(b,a,c,f,h){this.hasValue=
!0};a.prototype.notifyComplete=function(){this.isInnerStopped=!0;this.isStopped&&c.prototype._complete.call(this)};return a}(t);g.prototype.skipUntil=function(c){return this.lift(new ye(c))};var Ae=function(){function c(a){this.predicate=a}c.prototype.call=function(a,b){return b.subscribe(new ze(a,this.predicate))};return c}(),ze=function(c){function a(b,a){b=c.call(this,b)||this;b.predicate=a;b.skipping=!0;b.index=0;return b}__extends(a,c);a.prototype._next=function(b){var a=this.destination;this.skipping&&
this.tryCallPredicate(b);this.skipping||a.next(b)};a.prototype.tryCallPredicate=function(b){try{this.skipping=!!this.predicate(b,this.index++)}catch(d){this.destination.error(d)}};return a}(p);g.prototype.skipWhile=function(c){return this.lift(new Ae(c))};g.prototype.startWith=function(){for(var c=[],a=0;a<arguments.length;a++)c[a]=arguments[a];a=c[c.length-1];G(a)?c.pop():a=null;var b=c.length;return 1===b?S(new la(c[0],a),this):1<b?S(new J(c,a),this):S(new K(a),this)};var gb=new (function(){function c(a){this.root=
a;a.setImmediate&&"function"===typeof a.setImmediate?(this.setImmediate=a.setImmediate.bind(a),this.clearImmediate=a.clearImmediate.bind(a)):(this.nextHandle=1,this.tasksByHandle={},this.currentlyRunningATask=!1,this.canUseProcessNextTick()?this.setImmediate=this.createProcessNextTickSetImmediate():this.canUsePostMessage()?this.setImmediate=this.createPostMessageSetImmediate():this.canUseMessageChannel()?this.setImmediate=this.createMessageChannelSetImmediate():this.canUseReadyStateChange()?this.setImmediate=
this.createReadyStateChangeSetImmediate():this.setImmediate=this.createSetTimeoutSetImmediate(),a=function d(a){delete d.instance.tasksByHandle[a]},a.instance=this,this.clearImmediate=a)}c.prototype.identify=function(a){return this.root.Object.prototype.toString.call(a)};c.prototype.canUseProcessNextTick=function(){return"[object process]"===this.identify(this.root.process)};c.prototype.canUseMessageChannel=function(){return!!this.root.MessageChannel};c.prototype.canUseReadyStateChange=function(){var a=
this.root.document;return!!(a&&"onreadystatechange"in a.createElement("script"))};c.prototype.canUsePostMessage=function(){var a=this.root;if(a.postMessage&&!a.importScripts){var b=!0,c=a.onmessage;a.onmessage=function(){b=!1};a.postMessage("","*");a.onmessage=c;return b}return!1};c.prototype.partiallyApplied=function(a){for(var b=[],c=1;c<arguments.length;c++)b[c-1]=arguments[c];c=function f(){var b=f.handler,a=f.args;"function"===typeof b?b.apply(void 0,a):(new Function(""+b))()};c.handler=a;c.args=
b;return c};c.prototype.addFromSetImmediateArguments=function(a){this.tasksByHandle[this.nextHandle]=this.partiallyApplied.apply(void 0,a);return this.nextHandle++};c.prototype.createProcessNextTickSetImmediate=function(){var a=function d(){var a=d.instance,c=a.addFromSetImmediateArguments(arguments);a.root.process.nextTick(a.partiallyApplied(a.runIfPresent,c));return c};a.instance=this;return a};c.prototype.createPostMessageSetImmediate=function(){var a=this.root,b="setImmediate$"+a.Math.random()+
"$",c=function f(c){var d=f.instance;c.source===a&&"string"===typeof c.data&&0===c.data.indexOf(b)&&d.runIfPresent(+c.data.slice(b.length))};c.instance=this;a.addEventListener("message",c,!1);c=function h(){var a=h,b=a.messagePrefix,a=a.instance,c=a.addFromSetImmediateArguments(arguments);a.root.postMessage(b+c,"*");return c};c.instance=this;c.messagePrefix=b;return c};c.prototype.runIfPresent=function(a){if(this.currentlyRunningATask)this.root.setTimeout(this.partiallyApplied(this.runIfPresent,a),
0);else{var b=this.tasksByHandle[a];if(b){this.currentlyRunningATask=!0;try{b()}finally{this.clearImmediate(a),this.currentlyRunningATask=!1}}}};c.prototype.createMessageChannelSetImmediate=function(){var a=this,b=new this.root.MessageChannel;b.port1.onmessage=function(b){a.runIfPresent(b.data)};var c=function f(){var a=f,b=a.channel,a=a.instance.addFromSetImmediateArguments(arguments);b.port2.postMessage(a);return a};c.channel=b;c.instance=this;return c};c.prototype.createReadyStateChangeSetImmediate=
function(){var a=function d(){var a=d.instance,c=a.root.document,h=c.documentElement,g=a.addFromSetImmediateArguments(arguments),k=c.createElement("script");k.onreadystatechange=function(){a.runIfPresent(g);k.onreadystatechange=null;h.removeChild(k);k=null};h.appendChild(k);return g};a.instance=this;return a};c.prototype.createSetTimeoutSetImmediate=function(){var a=function d(){var a=d.instance,c=a.addFromSetImmediateArguments(arguments);a.root.setTimeout(a.partiallyApplied(a.runIfPresent,c),0);
return c};a.instance=this;return a};return c}())(r),Be=function(c){function a(a,d){var b=c.call(this,a,d)||this;b.scheduler=a;b.work=d;return b}__extends(a,c);a.prototype.requestAsyncId=function(a,d,e){void 0===e&&(e=0);if(null!==e&&0<e)return c.prototype.requestAsyncId.call(this,a,d,e);a.actions.push(this);return a.scheduled||(a.scheduled=gb.setImmediate(a.flush.bind(a,null)))};a.prototype.recycleAsyncId=function(a,d,e){void 0===e&&(e=0);if(null!==e&&0<e||null===e&&0<this.delay)return c.prototype.recycleAsyncId.call(this,
a,d,e);0===a.actions.length&&(gb.clearImmediate(d),a.scheduled=void 0)};return a}(U),fa=new (function(c){function a(){return c.apply(this,arguments)||this}__extends(a,c);a.prototype.flush=function(a){this.active=!0;this.scheduled=void 0;var b=this.actions,c,f=-1,h=b.length;a=a||b.shift();do if(c=a.execute(a.state,a.delay))break;while(++f<h&&(a=b.shift()));this.active=!1;if(c){for(;++f<h&&(a=b.shift());)a.unsubscribe();throw c;}};return a}(V))(Be),Ce=function(c){function a(a,d,e){void 0===d&&(d=0);
void 0===e&&(e=fa);var b=c.call(this)||this;b.source=a;b.delayTime=d;b.scheduler=e;if(!ga(d)||0>d)b.delayTime=0;e&&"function"===typeof e.schedule||(b.scheduler=fa);return b}__extends(a,c);a.create=function(b,c,e){void 0===c&&(c=0);void 0===e&&(e=fa);return new a(b,c,e)};a.dispatch=function(a){return this.add(a.source.subscribe(a.subscriber))};a.prototype._subscribe=function(b){return this.scheduler.schedule(a.dispatch,this.delayTime,{source:this.source,subscriber:b})};return a}(g),De=function(){function c(a,
b){this.scheduler=a;this.delay=b}c.prototype.call=function(a,b){return(new Ce(b,this.delay,this.scheduler)).subscribe(a)};return c}();g.prototype.subscribeOn=function(c,a){void 0===a&&(a=0);return this.lift(new De(c,a))};var Ob=function(){function c(){}c.prototype.call=function(a,b){return b.subscribe(new Ee(a))};return c}(),Ee=function(c){function a(a){a=c.call(this,a)||this;a.active=0;a.hasCompleted=!1;return a}__extends(a,c);a.prototype._next=function(a){this.unsubscribeInner();this.active++;this.add(this.innerSubscription=
q(this,a))};a.prototype._complete=function(){this.hasCompleted=!0;0===this.active&&this.destination.complete()};a.prototype.unsubscribeInner=function(){this.active=0<this.active?this.active-1:0;var a=this.innerSubscription;a&&(a.unsubscribe(),this.remove(a))};a.prototype.notifyNext=function(a,c,e,f,h){this.destination.next(c)};a.prototype.notifyError=function(a){this.destination.error(a)};a.prototype.notifyComplete=function(){this.unsubscribeInner();this.hasCompleted&&0===this.active&&this.destination.complete()};
return a}(t);g.prototype.switch=La;g.prototype._switch=La;var Ge=function(){function c(a,b){this.project=a;this.resultSelector=b}c.prototype.call=function(a,b){return b.subscribe(new Fe(a,this.project,this.resultSelector))};return c}(),Fe=function(c){function a(a,d,e){a=c.call(this,a)||this;a.project=d;a.resultSelector=e;a.index=0;return a}__extends(a,c);a.prototype._next=function(a){var b,c=this.index++;try{b=this.project(a,c)}catch(f){this.destination.error(f);return}this._innerSub(b,a,c)};a.prototype._innerSub=
function(a,c,e){var b=this.innerSubscription;b&&b.unsubscribe();this.add(this.innerSubscription=q(this,a,c,e))};a.prototype._complete=function(){var a=this.innerSubscription;a&&!a.closed||c.prototype._complete.call(this)};a.prototype._unsubscribe=function(){this.innerSubscription=null};a.prototype.notifyComplete=function(a){this.remove(a);this.innerSubscription=null;this.isStopped&&c.prototype._complete.call(this)};a.prototype.notifyNext=function(a,c,e,f,h){this.resultSelector?this._tryNotifyNext(a,
c,e,f):this.destination.next(c)};a.prototype._tryNotifyNext=function(a,c,e,f){var b;try{b=this.resultSelector(a,c,e,f)}catch(D){this.destination.error(D);return}this.destination.next(b)};return a}(t);g.prototype.switchMap=function(c,a){return this.lift(new Ge(c,a))};var Ie=function(){function c(a,b){this.observable=a;this.resultSelector=b}c.prototype.call=function(a,b){return b.subscribe(new He(a,this.observable,this.resultSelector))};return c}(),He=function(c){function a(a,d,e){a=c.call(this,a)||
this;a.inner=d;a.resultSelector=e;a.index=0;return a}__extends(a,c);a.prototype._next=function(a){var b=this.innerSubscription;b&&b.unsubscribe();this.add(this.innerSubscription=q(this,this.inner,a,this.index++))};a.prototype._complete=function(){var a=this.innerSubscription;a&&!a.closed||c.prototype._complete.call(this)};a.prototype._unsubscribe=function(){this.innerSubscription=null};a.prototype.notifyComplete=function(a){this.remove(a);this.innerSubscription=null;this.isStopped&&c.prototype._complete.call(this)};
a.prototype.notifyNext=function(a,c,e,f,h){h=this.destination;this.resultSelector?this.tryResultSelector(a,c,e,f):h.next(c)};a.prototype.tryResultSelector=function(a,c,e,f){var b=this.resultSelector,d=this.destination,g;try{g=b(a,c,e,f)}catch(M){d.error(M);return}d.next(g)};return a}(t);g.prototype.switchMapTo=function(c,a){return this.lift(new Ie(c,a))};var Ke=function(){function c(a){this.total=a;if(0>this.total)throw new W;}c.prototype.call=function(a,b){return b.subscribe(new Je(a,this.total))};
return c}(),Je=function(c){function a(a,d){a=c.call(this,a)||this;a.total=d;a.count=0;return a}__extends(a,c);a.prototype._next=function(a){var b=this.total,c=++this.count;c<=b&&(this.destination.next(a),c===b&&(this.destination.complete(),this.unsubscribe()))};return a}(p);g.prototype.take=function(c){return 0===c?new K:this.lift(new Ke(c))};var Me=function(){function c(a){this.total=a;if(0>this.total)throw new W;}c.prototype.call=function(a,b){return b.subscribe(new Le(a,this.total))};return c}(),
Le=function(c){function a(a,d){a=c.call(this,a)||this;a.total=d;a.ring=[];a.count=0;return a}__extends(a,c);a.prototype._next=function(a){var b=this.ring,c=this.total,f=this.count++;b.length<c?b.push(a):b[f%c]=a};a.prototype._complete=function(){var a=this.destination,c=this.count;if(0<c)for(var e=this.count>=this.total?this.total:this.count,f=this.ring,h=0;h<e;h++){var g=c++%e;a.next(f[g])}a.complete()};return a}(p);g.prototype.takeLast=function(c){return 0===c?new K:this.lift(new Me(c))};var Oe=
function(){function c(a){this.notifier=a}c.prototype.call=function(a,b){return b.subscribe(new Ne(a,this.notifier))};return c}(),Ne=function(c){function a(a,d){a=c.call(this,a)||this;a.notifier=d;a.add(q(a,d));return a}__extends(a,c);a.prototype.notifyNext=function(a,c,e,f,h){this.complete()};a.prototype.notifyComplete=function(){};return a}(t);g.prototype.takeUntil=function(c){return this.lift(new Oe(c))};var Qe=function(){function c(a){this.predicate=a}c.prototype.call=function(a,b){return b.subscribe(new Pe(a,
this.predicate))};return c}(),Pe=function(c){function a(a,d){a=c.call(this,a)||this;a.predicate=d;a.index=0;return a}__extends(a,c);a.prototype._next=function(a){var b=this.destination,c;try{c=this.predicate(a,this.index++)}catch(f){b.error(f);return}this.nextOrComplete(a,c)};a.prototype.nextOrComplete=function(a,c){var b=this.destination;c?b.next(a):b.complete()};return a}(p);g.prototype.takeWhile=function(c){return this.lift(new Qe(c))};var Se=function(){function c(a){this.durationSelector=a}c.prototype.call=
function(a,b){return b.subscribe(new Re(a,this.durationSelector))};return c}(),Re=function(c){function a(a,d){var b=c.call(this,a)||this;b.destination=a;b.durationSelector=d;return b}__extends(a,c);a.prototype._next=function(a){this.throttled||this.tryDurationSelector(a)};a.prototype.tryDurationSelector=function(a){var b=null;try{b=this.durationSelector(a)}catch(e){this.destination.error(e);return}this.emitAndThrottle(a,b)};a.prototype.emitAndThrottle=function(a,c){this.add(this.throttled=q(this,
c));this.destination.next(a)};a.prototype._unsubscribe=function(){var a=this.throttled;a&&(this.remove(a),this.throttled=null,a.unsubscribe())};a.prototype.notifyNext=function(a,c,e,f,h){this._unsubscribe()};a.prototype.notifyComplete=function(){this._unsubscribe()};return a}(t);g.prototype.throttle=function(c){return this.lift(new Se(c))};var Ue=function(){function c(a,b){this.duration=a;this.scheduler=b}c.prototype.call=function(a,b){return b.subscribe(new Te(a,this.duration,this.scheduler))};return c}(),
Te=function(c){function a(a,d,e){a=c.call(this,a)||this;a.duration=d;a.scheduler=e;return a}__extends(a,c);a.prototype._next=function(a){this.throttled||(this.add(this.throttled=this.scheduler.schedule(Pb,this.duration,{subscriber:this})),this.destination.next(a))};a.prototype.clearThrottle=function(){var a=this.throttled;a&&(a.unsubscribe(),this.remove(a),this.throttled=null)};return a}(p);g.prototype.throttleTime=function(c,a){void 0===a&&(a=C);return this.lift(new Ue(c,a))};var hb=function(){return function(c,
a){this.value=c;this.interval=a}}(),We=function(){function c(a){this.scheduler=a}c.prototype.call=function(a,b){return b.subscribe(new Ve(a,this.scheduler))};return c}(),Ve=function(c){function a(a,d){a=c.call(this,a)||this;a.scheduler=d;a.lastTime=0;a.lastTime=d.now();return a}__extends(a,c);a.prototype._next=function(a){var b=this.scheduler.now(),c=b-this.lastTime;this.lastTime=b;this.destination.next(new hb(a,c))};return a}(p);g.prototype.timeInterval=function(c){void 0===c&&(c=C);return this.lift(new We(c))};
var ib=function(c){function a(){var a,d=a=c.call(this,"Timeout has occurred")||this;a.name=d.name="TimeoutError";a.stack=d.stack;a.message=d.message;return a}__extends(a,c);return a}(Error),Ye=function(){function c(a,b,c,e){this.waitFor=a;this.absoluteTimeout=b;this.scheduler=c;this.errorInstance=e}c.prototype.call=function(a,b){return b.subscribe(new Xe(a,this.absoluteTimeout,this.waitFor,this.scheduler,this.errorInstance))};return c}(),Xe=function(c){function a(a,d,e,f,h){a=c.call(this,a)||this;
a.absoluteTimeout=d;a.waitFor=e;a.scheduler=f;a.errorInstance=h;a.index=0;a._previousIndex=0;a._hasCompleted=!1;a.scheduleTimeout();return a}__extends(a,c);Object.defineProperty(a.prototype,"previousIndex",{get:function(){return this._previousIndex},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"hasCompleted",{get:function(){return this._hasCompleted},enumerable:!0,configurable:!0});a.dispatchTimeout=function(a){var b=a.subscriber;a=a.index;b.hasCompleted||b.previousIndex!==a||
b.notifyTimeout()};a.prototype.scheduleTimeout=function(){var b=this.index;this.scheduler.schedule(a.dispatchTimeout,this.waitFor,{subscriber:this,index:b});this.index++;this._previousIndex=b};a.prototype._next=function(a){this.destination.next(a);this.absoluteTimeout||this.scheduleTimeout()};a.prototype._error=function(a){this.destination.error(a);this._hasCompleted=!0};a.prototype._complete=function(){this.destination.complete();this._hasCompleted=!0};a.prototype.notifyTimeout=function(){this.error(this.errorInstance)};
return a}(p);g.prototype.timeout=function(c,a){void 0===a&&(a=C);var b=ba(c);c=b?+c-a.now():Math.abs(c);return this.lift(new Ye(c,b,a,new ib))};var $e=function(){function c(a,b,c,e){this.waitFor=a;this.absoluteTimeout=b;this.withObservable=c;this.scheduler=e}c.prototype.call=function(a,b){return b.subscribe(new Ze(a,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))};return c}(),Ze=function(c){function a(a,d,e,f,h){var b=c.call(this)||this;b.destination=a;b.absoluteTimeout=d;b.waitFor=
e;b.withObservable=f;b.scheduler=h;b.timeoutSubscription=void 0;b.index=0;b._previousIndex=0;b._hasCompleted=!1;a.add(b);b.scheduleTimeout();return b}__extends(a,c);Object.defineProperty(a.prototype,"previousIndex",{get:function(){return this._previousIndex},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"hasCompleted",{get:function(){return this._hasCompleted},enumerable:!0,configurable:!0});a.dispatchTimeout=function(a){var b=a.subscriber;a=a.index;b.hasCompleted||b.previousIndex!==
a||b.handleTimeout()};a.prototype.scheduleTimeout=function(){var b=this.index;this.scheduler.schedule(a.dispatchTimeout,this.waitFor,{subscriber:this,index:b});this.index++;this._previousIndex=b};a.prototype._next=function(a){this.destination.next(a);this.absoluteTimeout||this.scheduleTimeout()};a.prototype._error=function(a){this.destination.error(a);this._hasCompleted=!0};a.prototype._complete=function(){this.destination.complete();this._hasCompleted=!0};a.prototype.handleTimeout=function(){if(!this.closed){var a=
this.withObservable;this.unsubscribe();this.destination.add(this.timeoutSubscription=q(this,a))}};return a}(t);g.prototype.timeoutWith=function(c,a,b){void 0===b&&(b=C);var d=ba(c);c=d?+c-b.now():Math.abs(c);return this.lift(new $e(c,d,a,b))};var jb=function(){return function(c,a){this.value=c;this.timestamp=a}}(),bf=function(){function c(a){this.scheduler=a}c.prototype.call=function(a,b){return b.subscribe(new af(a,this.scheduler))};return c}(),af=function(c){function a(a,d){a=c.call(this,a)||this;
a.scheduler=d;return a}__extends(a,c);a.prototype._next=function(a){var b=this.scheduler.now();this.destination.next(new jb(a,b))};return a}(p);g.prototype.timestamp=function(c){void 0===c&&(c=C);return this.lift(new bf(c))};var df=function(){function c(){}c.prototype.call=function(a,b){return b.subscribe(new cf(a))};return c}(),cf=function(c){function a(a){a=c.call(this,a)||this;a.array=[];return a}__extends(a,c);a.prototype._next=function(a){this.array.push(a)};a.prototype._complete=function(){this.destination.next(this.array);
this.destination.complete()};return a}(p);g.prototype.toArray=function(){return this.lift(new df)};g.prototype.toPromise=function(c){var a=this;c||(r.Rx&&r.Rx.config&&r.Rx.config.Promise?c=r.Rx.config.Promise:r.Promise&&(c=r.Promise));if(!c)throw Error("no Promise impl found");return new c(function(b,c){var d;a.subscribe(function(a){return d=a},function(a){return c(a)},function(){return b(d)})})};var ff=function(){function c(a){this.windowBoundaries=a}c.prototype.call=function(a,b){a=new ef(a);b=
b.subscribe(a);b.closed||a.add(q(a,this.windowBoundaries));return b};return c}(),ef=function(c){function a(a){var b=c.call(this,a)||this;b.window=new y;a.next(b.window);return b}__extends(a,c);a.prototype.notifyNext=function(a,c,e,f,h){this.openWindow()};a.prototype.notifyError=function(a,c){this._error(a)};a.prototype.notifyComplete=function(a){this._complete()};a.prototype._next=function(a){this.window.next(a)};a.prototype._error=function(a){this.window.error(a);this.destination.error(a)};a.prototype._complete=
function(){this.window.complete();this.destination.complete()};a.prototype._unsubscribe=function(){this.window=null};a.prototype.openWindow=function(){var a=this.window;a&&a.complete();var a=this.destination,c=this.window=new y;a.next(c)};return a}(t);g.prototype.window=function(c){return this.lift(new ff(c))};var hf=function(){function c(a,b){this.windowSize=a;this.startWindowEvery=b}c.prototype.call=function(a,b){return b.subscribe(new gf(a,this.windowSize,this.startWindowEvery))};return c}(),gf=
function(c){function a(a,d,e){var b=c.call(this,a)||this;b.destination=a;b.windowSize=d;b.startWindowEvery=e;b.windows=[new y];b.count=0;a.next(b.windows[0]);return b}__extends(a,c);a.prototype._next=function(a){for(var b=0<this.startWindowEvery?this.startWindowEvery:this.windowSize,c=this.destination,f=this.windowSize,h=this.windows,g=h.length,k=0;k<g&&!this.closed;k++)h[k].next(a);a=this.count-f+1;0<=a&&0===a%b&&!this.closed&&h.shift().complete();0!==++this.count%b||this.closed||(b=new y,h.push(b),
c.next(b))};a.prototype._error=function(a){var b=this.windows;if(b)for(;0<b.length&&!this.closed;)b.shift().error(a);this.destination.error(a)};a.prototype._complete=function(){var a=this.windows;if(a)for(;0<a.length&&!this.closed;)a.shift().complete();this.destination.complete()};a.prototype._unsubscribe=function(){this.count=0;this.windows=null};return a}(p);g.prototype.windowCount=function(c,a){void 0===a&&(a=0);return this.lift(new hf(c,a))};var kf=function(){function c(a,b,c){this.windowTimeSpan=
a;this.windowCreationInterval=b;this.scheduler=c}c.prototype.call=function(a,b){return b.subscribe(new jf(a,this.windowTimeSpan,this.windowCreationInterval,this.scheduler))};return c}(),jf=function(c){function a(a,d,e,f){var b=c.call(this,a)||this;b.destination=a;b.windowTimeSpan=d;b.windowCreationInterval=e;b.scheduler=f;b.windows=[];if(null!==e&&0<=e){a=b.openWindow();var g={windowTimeSpan:d,windowCreationInterval:e,subscriber:b,scheduler:f};b.add(f.schedule(Ma,d,{subscriber:b,window:a,context:null}));
b.add(f.schedule(Rb,e,g))}else e=b.openWindow(),b.add(f.schedule(Qb,d,{subscriber:b,window:e,windowTimeSpan:d}));return b}__extends(a,c);a.prototype._next=function(a){for(var b=this.windows,c=b.length,f=0;f<c;f++){var g=b[f];g.closed||g.next(a)}};a.prototype._error=function(a){for(var b=this.windows;0<b.length;)b.shift().error(a);this.destination.error(a)};a.prototype._complete=function(){for(var a=this.windows;0<a.length;){var c=a.shift();c.closed||c.complete()}this.destination.complete()};a.prototype.openWindow=
function(){var a=new y;this.windows.push(a);this.destination.next(a);return a};a.prototype.closeWindow=function(a){a.complete();var b=this.windows;b.splice(b.indexOf(a),1)};return a}(p);g.prototype.windowTime=function(c,a,b){void 0===a&&(a=null);void 0===b&&(b=C);return this.lift(new kf(c,a,b))};var mf=function(){function c(a,b){this.openings=a;this.closingSelector=b}c.prototype.call=function(a,b){return b.subscribe(new lf(a,this.openings,this.closingSelector))};return c}(),lf=function(c){function a(a,
d,e){a=c.call(this,a)||this;a.openings=d;a.closingSelector=e;a.contexts=[];a.add(a.openSubscription=q(a,d,d));return a}__extends(a,c);a.prototype._next=function(a){var b=this.contexts;if(b)for(var c=b.length,f=0;f<c;f++)b[f].window.next(a)};a.prototype._error=function(a){var b=this.contexts;this.contexts=null;if(b)for(var e=b.length,f=-1;++f<e;){var g=b[f];g.window.error(a);g.subscription.unsubscribe()}c.prototype._error.call(this,a)};a.prototype._complete=function(){var a=this.contexts;this.contexts=
null;if(a)for(var d=a.length,e=-1;++e<d;){var f=a[e];f.window.complete();f.subscription.unsubscribe()}c.prototype._complete.call(this)};a.prototype._unsubscribe=function(){var a=this.contexts;this.contexts=null;if(a)for(var c=a.length,e=-1;++e<c;){var f=a[e];f.window.unsubscribe();f.subscription.unsubscribe()}};a.prototype.notifyNext=function(a,c,e,f,g){if(a===this.openings){f=k(this.closingSelector)(c);if(f===n)return this.error(n.e);a=new y;c=new x;e={window:a,subscription:c};this.contexts.push(e);
f=q(this,f,e);f.closed?this.closeWindow(this.contexts.length-1):(f.context=e,c.add(f));this.destination.next(a)}else this.closeWindow(this.contexts.indexOf(a))};a.prototype.notifyError=function(a){this.error(a)};a.prototype.notifyComplete=function(a){a!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(a.context))};a.prototype.closeWindow=function(a){if(-1!==a){var b=this.contexts,c=b[a],f=c.window,c=c.subscription;b.splice(a,1);f.complete();c.unsubscribe()}};return a}(t);g.prototype.windowToggle=
function(c,a){return this.lift(new mf(c,a))};var of=function(){function c(a){this.closingSelector=a}c.prototype.call=function(a,b){return b.subscribe(new nf(a,this.closingSelector))};return c}(),nf=function(c){function a(a,d){var b=c.call(this,a)||this;b.destination=a;b.closingSelector=d;b.openWindow();return b}__extends(a,c);a.prototype.notifyNext=function(a,c,e,f,g){this.openWindow(g)};a.prototype.notifyError=function(a,c){this._error(a)};a.prototype.notifyComplete=function(a){this.openWindow(a)};
a.prototype._next=function(a){this.window.next(a)};a.prototype._error=function(a){this.window.error(a);this.destination.error(a);this.unsubscribeClosingNotification()};a.prototype._complete=function(){this.window.complete();this.destination.complete();this.unsubscribeClosingNotification()};a.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()};a.prototype.openWindow=function(a){void 0===a&&(a=null);a&&(this.remove(a),a.unsubscribe());
(a=this.window)&&a.complete();a=this.window=new y;this.destination.next(a);a=k(this.closingSelector)();a===n?(a=n.e,this.destination.error(a),this.window.error(a)):this.add(this.closingNotification=q(this,a))};return a}(t);g.prototype.windowWhen=function(c){return this.lift(new of(c))};var qf=function(){function c(a,b){this.observables=a;this.project=b}c.prototype.call=function(a,b){return b.subscribe(new pf(a,this.observables,this.project))};return c}(),pf=function(c){function a(a,d,e){a=c.call(this,
a)||this;a.observables=d;a.project=e;a.toRespond=[];e=d.length;a.values=Array(e);for(var b=0;b<e;b++)a.toRespond.push(b);for(b=0;b<e;b++){var g=d[b];a.add(q(a,g,g,b))}return a}__extends(a,c);a.prototype.notifyNext=function(a,c,e,f,g){this.values[e]=c;a=this.toRespond;0<a.length&&(e=a.indexOf(e),-1!==e&&a.splice(e,1))};a.prototype.notifyComplete=function(){};a.prototype._next=function(a){0===this.toRespond.length&&(a=[a].concat(this.values),this.project?this._tryProject(a):this.destination.next(a))};
a.prototype._tryProject=function(a){var b;try{b=this.project.apply(this,a)}catch(e){this.destination.error(e);return}this.destination.next(b)};return a}(t);g.prototype.withLatestFrom=function(){for(var c=[],a=0;a<arguments.length;a++)c[a]=arguments[a];var b;"function"===typeof c[c.length-1]&&(b=c.pop());return this.lift(new qf(c,b))};g.prototype.zip=function(){for(var c=[],a=0;a<arguments.length;a++)c[a]=arguments[a];return this.lift.call(wa.apply(void 0,[this].concat(c)))};g.prototype.zipAll=function(c){return this.lift(new xa(c))};
var Y=function(){return function(c,a){void 0===a&&(a=Number.POSITIVE_INFINITY);this.subscribedFrame=c;this.unsubscribedFrame=a}}(),kb=function(){function c(){this.subscriptions=[]}c.prototype.logSubscribedFrame=function(){this.subscriptions.push(new Y(this.scheduler.now()));return this.subscriptions.length-1};c.prototype.logUnsubscribedFrame=function(a){var b=this.subscriptions;b[a]=new Y(b[a].subscribedFrame,this.scheduler.now())};return c}(),pa=function(c){function a(a,d){var b=c.call(this,function(a){var b=
this,c=b.logSubscribedFrame();a.add(new x(function(){b.logUnsubscribedFrame(c)}));b.scheduleMessages(a);return a})||this;b.messages=a;b.subscriptions=[];b.scheduler=d;return b}__extends(a,c);a.prototype.scheduleMessages=function(a){for(var b=this.messages.length,c=0;c<b;c++){var f=this.messages[c];a.add(this.scheduler.schedule(function(a){a.message.notification.observe(a.subscriber)},f.frame,{message:f,subscriber:a}))}};return a}(g);Na(pa,[kb]);var lb=function(c){function a(a,d){var b=c.call(this)||
this;b.messages=a;b.subscriptions=[];b.scheduler=d;return b}__extends(a,c);a.prototype._subscribe=function(a){var b=this,e=b.logSubscribedFrame();a.add(new x(function(){b.logUnsubscribedFrame(e)}));return c.prototype._subscribe.call(this,a)};a.prototype.setup=function(){for(var a=this,c=a.messages.length,e=0;e<c;e++)(function(){var b=a.messages[e];a.scheduler.schedule(function(){b.notification.observe(a)},b.frame)})()};return a}(y);Na(lb,[kb]);var qa=function(c){function a(a,d){void 0===a&&(a=mb);
void 0===d&&(d=Number.POSITIVE_INFINITY);var b=c.call(this,a,function(){return b.frame})||this;b.maxFrames=d;b.frame=0;b.index=-1;return b}__extends(a,c);a.prototype.flush=function(){for(var a=this.actions,c=this.maxFrames,e,f;(f=a.shift())&&(this.frame=f.delay)<=c&&!(e=f.execute(f.state,f.delay)););if(e){for(;f=a.shift();)f.unsubscribe();throw e;}};return a}(V);qa.frameTimeFactor=10;var mb=function(c){function a(a,d,e){void 0===e&&(e=a.index+=1);var b=c.call(this,a,d)||this;b.scheduler=a;b.work=
d;b.index=e;b.index=a.index=e;return b}__extends(a,c);a.prototype.schedule=function(b,d){void 0===d&&(d=0);return this.id?this.add(new a(this.scheduler,this.work)).schedule(b,d):c.prototype.schedule.call(this,b,d)};a.prototype.requestAsyncId=function(b,c,e){void 0===e&&(e=0);this.delay=b.frame+e;b=b.actions;b.push(this);b.sort(a.sortActions);return!0};a.prototype.recycleAsyncId=function(a,c,e){};a.sortActions=function(a,c){return a.delay===c.delay?a.index===c.index?0:a.index>c.index?1:-1:a.delay>
c.delay?1:-1};return a}(U),rf=function(c){function a(a){var b=c.call(this,mb,750)||this;b.assertDeepEqual=a;b.hotObservables=[];b.coldObservables=[];b.flushTests=[];return b}__extends(a,c);a.prototype.createTime=function(b){b=b.indexOf("|");if(-1===b)throw Error('marble diagram for time should have a completion marker "|"');return b*a.frameTimeFactor};a.prototype.createColdObservable=function(b,c,e){if(-1!==b.indexOf("^"))throw Error('cold observable cannot have subscription offset "^"');if(-1!==
b.indexOf("!"))throw Error('cold observable cannot have unsubscription marker "!"');b=a.parseMarbles(b,c,e);b=new pa(b,this);this.coldObservables.push(b);return b};a.prototype.createHotObservable=function(b,c,e){if(-1!==b.indexOf("!"))throw Error('hot observable cannot have unsubscription marker "!"');b=a.parseMarbles(b,c,e);b=new lb(b,this);this.hotObservables.push(b);return b};a.prototype.materializeInnerObservable=function(a,c){var b=this,d=[];a.subscribe(function(a){d.push({frame:b.frame-c,notification:z.createNext(a)})},
function(a){d.push({frame:b.frame-c,notification:z.createError(a)})},function(){d.push({frame:b.frame-c,notification:z.createComplete()})});return d};a.prototype.expectObservable=function(b,c){var d=this;void 0===c&&(c=null);var f=[],h={actual:f,ready:!1};c=a.parseMarblesAsSubscriptions(c).unsubscribedFrame;var k;this.schedule(function(){k=b.subscribe(function(a){var b=a;a instanceof g&&(b=d.materializeInnerObservable(b,d.frame));f.push({frame:d.frame,notification:z.createNext(b)})},function(a){f.push({frame:d.frame,
notification:z.createError(a)})},function(){f.push({frame:d.frame,notification:z.createComplete()})})},0);c!==Number.POSITIVE_INFINITY&&this.schedule(function(){return k.unsubscribe()},c);this.flushTests.push(h);return{toBe:function(b,c,d){h.ready=!0;h.expected=a.parseMarbles(b,c,d,!0)}}};a.prototype.expectSubscriptions=function(b){var c={actual:b,ready:!1};this.flushTests.push(c);return{toBe:function(b){b="string"===typeof b?[b]:b;c.ready=!0;c.expected=b.map(function(b){return a.parseMarblesAsSubscriptions(b)})}}};
a.prototype.flush=function(){for(var a=this.hotObservables;0<a.length;)a.shift().setup();c.prototype.flush.call(this);for(a=this.flushTests.filter(function(a){return a.ready});0<a.length;){var d=a.shift();this.assertDeepEqual(d.actual,d.expected)}};a.parseMarblesAsSubscriptions=function(a){if("string"!==typeof a)return new Y(Number.POSITIVE_INFINITY);for(var b=a.length,c=-1,f=Number.POSITIVE_INFINITY,g=Number.POSITIVE_INFINITY,k=0;k<b;k++){var l=k*this.frameTimeFactor,m=a[k];switch(m){case "-":case " ":break;
case "(":c=l;break;case ")":c=-1;break;case "^":if(f!==Number.POSITIVE_INFINITY)throw Error("found a second subscription point '^' in a subscription marble diagram. There can only be one.");f=-1<c?c:l;break;case "!":if(g!==Number.POSITIVE_INFINITY)throw Error("found a second subscription point '^' in a subscription marble diagram. There can only be one.");g=-1<c?c:l;break;default:throw Error("there can only be '^' and '!' markers in a subscription marble diagram. Found instead '"+m+"'.");}}return 0>
g?new Y(f):new Y(f,g)};a.parseMarbles=function(a,c,e,f){void 0===f&&(f=!1);if(-1!==a.indexOf("!"))throw Error('conventional marble diagrams cannot have the unsubscription marker "!"');for(var b=a.length,d=[],g=a.indexOf("^"),g=-1===g?0:g*-this.frameTimeFactor,k="object"!==typeof c?function(a){return a}:function(a){return f&&c[a]instanceof pa?c[a].messages:c[a]},l=-1,m=0;m<b;m++){var p=m*this.frameTimeFactor+g,n=void 0,q=a[m];switch(q){case "-":case " ":break;case "(":l=p;break;case ")":l=-1;break;
case "|":n=z.createComplete();break;case "^":break;case "#":n=z.createError(e||"error");break;default:n=z.createNext(k(q))}n&&d.push({frame:-1<l?l:p,notification:n})}return d};return a}(qa),nb=new (function(){return function(c){c.requestAnimationFrame?(this.cancelAnimationFrame=c.cancelAnimationFrame.bind(c),this.requestAnimationFrame=c.requestAnimationFrame.bind(c)):c.mozRequestAnimationFrame?(this.cancelAnimationFrame=c.mozCancelAnimationFrame.bind(c),this.requestAnimationFrame=c.mozRequestAnimationFrame.bind(c)):
c.webkitRequestAnimationFrame?(this.cancelAnimationFrame=c.webkitCancelAnimationFrame.bind(c),this.requestAnimationFrame=c.webkitRequestAnimationFrame.bind(c)):c.msRequestAnimationFrame?(this.cancelAnimationFrame=c.msCancelAnimationFrame.bind(c),this.requestAnimationFrame=c.msRequestAnimationFrame.bind(c)):c.oRequestAnimationFrame?(this.cancelAnimationFrame=c.oCancelAnimationFrame.bind(c),this.requestAnimationFrame=c.oRequestAnimationFrame.bind(c)):(this.cancelAnimationFrame=c.clearTimeout.bind(c),
this.requestAnimationFrame=function(a){return c.setTimeout(a,1E3/60)})}}())(r),sf=function(c){function a(a,d){var b=c.call(this,a,d)||this;b.scheduler=a;b.work=d;return b}__extends(a,c);a.prototype.requestAsyncId=function(a,d,e){void 0===e&&(e=0);if(null!==e&&0<e)return c.prototype.requestAsyncId.call(this,a,d,e);a.actions.push(this);return a.scheduled||(a.scheduled=nb.requestAnimationFrame(a.flush.bind(a,null)))};a.prototype.recycleAsyncId=function(a,d,e){void 0===e&&(e=0);if(null!==e&&0<e||null===
e&&0<this.delay)return c.prototype.recycleAsyncId.call(this,a,d,e);0===a.actions.length&&(nb.cancelAnimationFrame(d),a.scheduled=void 0)};return a}(U),tf=new (function(c){function a(){return c.apply(this,arguments)||this}__extends(a,c);a.prototype.flush=function(a){this.active=!0;this.scheduled=void 0;var b=this.actions,c,f=-1,g=b.length;a=a||b.shift();do if(c=a.execute(a.state,a.delay))break;while(++f<g&&(a=b.shift()));this.active=!1;if(c){for(;++f<g&&(a=b.shift());)a.unsubscribe();throw c;}};return a}(V))(sf),
uf={rxSubscriber:T,observable:N,iterator:I};l.Scheduler={asap:fa,queue:ab,animationFrame:tf,async:C};l.Symbol=uf;l.Subject=y;l.AnonymousSubject=ca;l.Observable=g;l.Subscription=x;l.Subscriber=p;l.AsyncSubject=Q;l.ReplaySubject=R;l.BehaviorSubject=eb;l.ConnectableObservable=X;l.Notification=z;l.EmptyError=ea;l.ArgumentOutOfRangeError=W;l.ObjectUnsubscribedError=P;l.TimeoutError=ib;l.UnsubscriptionError=ia;l.TimeInterval=hb;l.Timestamp=jb;l.TestScheduler=rf;l.VirtualTimeScheduler=qa;l.AjaxResponse=
Za;l.AjaxError=da;l.AjaxTimeoutError=$a;Object.defineProperty(l,"__esModule",{value:!0})});
